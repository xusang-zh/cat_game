{"version":3,"sources":["../file:/E:/MyWork/catGame/assets/Script/Mgr/file:/E:/MyWork/catGame/assets/Script/Mgr/AdMgr.ts","../file:/E:/MyWork/catGame/assets/Script/Mgr/file:/E:/MyWork/catGame/assets/Script/Mgr/AudioMgr.ts","../file:/E:/MyWork/catGame/assets/Script/Message/file:/E:/MyWork/catGame/assets/Script/Message/BaseLoad.ts","../file:/E:/MyWork/catGame/assets/Script/Message/file:/E:/MyWork/catGame/assets/Script/Message/BaseManager.ts","../file:/E:/MyWork/catGame/assets/Script/GameScene/LoginScene/file:/E:/MyWork/catGame/assets/Script/GameScene/LoginScene/BlackBoard.ts","../file:/E:/MyWork/catGame/assets/Script/Message/Manager/file:/E:/MyWork/catGame/assets/Script/Message/Manager/BuildManager.ts","../file:/E:/MyWork/catGame/assets/Script/GameScene/BuidlScene/file:/E:/MyWork/catGame/assets/Script/GameScene/BuidlScene/BuildScene.ts","../file:/E:/MyWork/catGame/assets/Script/GameScene/LoginScene/file:/E:/MyWork/catGame/assets/Script/GameScene/LoginScene/ButtonLoad.ts","../file:/E:/MyWork/catGame/assets/Script/GameScene/LoginScene/file:/E:/MyWork/catGame/assets/Script/GameScene/LoginScene/Cat.ts","../file:/E:/MyWork/catGame/assets/Script/GameScene/LoginScene/file:/E:/MyWork/catGame/assets/Script/GameScene/LoginScene/CatLoad.ts","../file:/E:/MyWork/catGame/assets/Script/GameScene/ClearScene/file:/E:/MyWork/catGame/assets/Script/GameScene/ClearScene/ChooseScene.ts","../file:/E:/MyWork/catGame/assets/Script/Message/Manager/file:/E:/MyWork/catGame/assets/Script/Message/Manager/ClearManager.ts","../file:/E:/MyWork/catGame/assets/Script/GameScene/ClearScene/file:/E:/MyWork/catGame/assets/Script/GameScene/ClearScene/ClearScene.ts","../file:/E:/MyWork/catGame/assets/Script/GameScene/ClearScene/file:/E:/MyWork/catGame/assets/Script/GameScene/ClearScene/ControlLoad.ts","../file:/D:/Program%20Files/cocos/editors/Creator/3.8.3/resources/resources/3d/engine/editor/assets/tools/file:/D:/Program%20Files/cocos/editors/Creator/3.8.3/resources/resources/3d/engine/editor/assets/tools/debug-view-runtime-control.ts","../file:/E:/MyWork/catGame/assets/Script/GameScene/DownButton/file:/E:/MyWork/catGame/assets/Script/GameScene/DownButton/DownButton.ts","../file:/E:/MyWork/catGame/assets/Script/GameScene/LoginScene/file:/E:/MyWork/catGame/assets/Script/GameScene/LoginScene/DownButton.ts","../file:/E:/MyWork/catGame/assets/Script/GameScene/LoginScene/file:/E:/MyWork/catGame/assets/Script/GameScene/LoginScene/DrawLoad.ts","../file:/E:/MyWork/catGame/assets/Script/Tools/file:/E:/MyWork/catGame/assets/Script/Tools/DyTools.ts","../file:/E:/MyWork/catGame/assets/Script/file:/E:/MyWork/catGame/assets/Script/Global.ts","../file:/E:/MyWork/catGame/assets/Script/LoadingScene/file:/E:/MyWork/catGame/assets/Script/LoadingScene/Loading.ts","../file:/E:/MyWork/catGame/assets/Script/Mgr/file:/E:/MyWork/catGame/assets/Script/Mgr/LocalMgr.ts","../file:/E:/MyWork/catGame/assets/Script/Message/Manager/file:/E:/MyWork/catGame/assets/Script/Message/Manager/LoginManager.ts","../file:/E:/MyWork/catGame/assets/Script/GameScene/LoginScene/file:/E:/MyWork/catGame/assets/Script/GameScene/LoginScene/LoginScene.ts","../file:/E:/MyWork/catGame/assets/Script/file:/E:/MyWork/catGame/assets/Script/Main.ts","../file:/E:/MyWork/catGame/assets/Script/Message/file:/E:/MyWork/catGame/assets/Script/Message/Message.ts","../file:/E:/MyWork/catGame/assets/Script/Message/file:/E:/MyWork/catGame/assets/Script/Message/MessageCenter.ts","../file:/E:/MyWork/catGame/assets/Nouse/file:/E:/MyWork/catGame/assets/Nouse/NodeShoot.ts","../file:/E:/MyWork/catGame/assets/Nouse/file:/E:/MyWork/catGame/assets/Nouse/Nouse.ts","../file:/E:/MyWork/catGame/assets/Script/GameScene/TopScene/file:/E:/MyWork/catGame/assets/Script/GameScene/TopScene/PopAchieve.ts","../file:/E:/MyWork/catGame/assets/Script/GameScene/TopScene/file:/E:/MyWork/catGame/assets/Script/GameScene/TopScene/PopAd.ts","../file:/E:/MyWork/catGame/assets/Script/GameScene/TopScene/file:/E:/MyWork/catGame/assets/Script/GameScene/TopScene/PopBox.ts","../file:/E:/MyWork/catGame/assets/Script/GameScene/TopScene/file:/E:/MyWork/catGame/assets/Script/GameScene/TopScene/PopCat.ts","../file:/E:/MyWork/catGame/assets/Script/GameScene/TopScene/file:/E:/MyWork/catGame/assets/Script/GameScene/TopScene/PopGet.ts","../file:/E:/MyWork/catGame/assets/Script/GameScene/TopScene/file:/E:/MyWork/catGame/assets/Script/GameScene/TopScene/PopGift.ts","../file:/E:/MyWork/catGame/assets/Script/GameScene/TopScene/file:/E:/MyWork/catGame/assets/Script/GameScene/TopScene/PopInstru.ts","../file:/E:/MyWork/catGame/assets/Script/GameScene/TopScene/file:/E:/MyWork/catGame/assets/Script/GameScene/TopScene/PopMenu.ts","../file:/E:/MyWork/catGame/assets/Script/GameScene/TopScene/file:/E:/MyWork/catGame/assets/Script/GameScene/TopScene/PopRule.ts","../file:/E:/MyWork/catGame/assets/Script/GameScene/TopScene/file:/E:/MyWork/catGame/assets/Script/GameScene/TopScene/PopToy.ts","../file:/E:/MyWork/catGame/assets/Script/Mgr/file:/E:/MyWork/catGame/assets/Script/Mgr/ResMgr.ts","../file:/E:/MyWork/catGame/assets/Script/GameScene/BuidlScene/file:/E:/MyWork/catGame/assets/Script/GameScene/BuidlScene/SingleBuild.ts","../file:/E:/MyWork/catGame/assets/Script/GameScene/TopScene/file:/E:/MyWork/catGame/assets/Script/GameScene/TopScene/SingleCat.ts","../file:/E:/MyWork/catGame/assets/Script/GameScene/ClearScene/file:/E:/MyWork/catGame/assets/Script/GameScene/ClearScene/SingleFood.ts","../file:/E:/MyWork/catGame/assets/Script/GameScene/TopScene/file:/E:/MyWork/catGame/assets/Script/GameScene/TopScene/SingleMenu.ts","../file:/E:/MyWork/catGame/assets/Script/GameScene/TopScene/file:/E:/MyWork/catGame/assets/Script/GameScene/TopScene/SingleToy.ts","../file:/E:/MyWork/catGame/assets/Script/GameScene/TopScene/file:/E:/MyWork/catGame/assets/Script/GameScene/TopScene/StarEffect.ts","../file:/E:/MyWork/catGame/assets/Nouse/file:/E:/MyWork/catGame/assets/Nouse/test.ts","../file:/E:/MyWork/catGame/assets/Script/Tools/file:/E:/MyWork/catGame/assets/Script/Tools/Tools.ts","../file:/E:/MyWork/catGame/assets/Script/Message/Manager/file:/E:/MyWork/catGame/assets/Script/Message/Manager/TopManager.ts","../file:/E:/MyWork/catGame/assets/Script/GameScene/TopScene/file:/E:/MyWork/catGame/assets/Script/GameScene/TopScene/TopScene.ts","../file:/E:/MyWork/catGame/assets/Script/Tools/file:/E:/MyWork/catGame/assets/Script/Tools/TweenTools.ts","../file:/E:/MyWork/catGame/assets/Script/Tools/file:/E:/MyWork/catGame/assets/Script/Tools/WxTools.ts"],"names":["ccclass","_decorator","property","_dec","_class2","_Component","AdMgr","_this","_len","arguments","length","args","Array","_key","call","apply","concat","Cb","WxAd","VideoInfor","ad","id","BannerInfor","CustomAd","DyAd","IsVideoComplete","_inheritsLoose","_proto","prototype","Init","Global","IsWx","this","WxInit","IsDy","DyInit","_this2","wx","createRewardedVideoAd","adUnitId","onLoad","VideoComplete","bind","onError","err","IsDebug","console","log","onClose","e","VideoClose","isEnded","createBannerAd","adIntervals","style","left","top","width","screen","onResize","res","height","createCustomAd","_this3","tt","onShow","SceneString","scene","load","ShowBanner","_isshow","show","realHeight","hide","ShowCustom","ShowVideo","_cb","_this4","then","_isended","showToast","title","icon","_createClass","key","get","_instance","Component","_class","_RF","pop","AudioMgr","BgSound","EffectSound","IsMute","AudioSourceComponent","PlayBgSound","_bgsoundname","_volume","clip","ResMgr","instance","Audio","play","volume","loop","StopBgSound","effect","stop","PlayEffect","_sound","_name","effectsound","PlayButton","PlayLine","PlaySuccess","PlayFail","BaseLoad","ReceiveMessage","_msg","BaseManager","ReceiveList","MessageType","start","SetMessageType","MessageCenter","Managers","push","Type_Login","RegisterReceiver","_receive","Type","_step","_iterator","_createForOfIteratorHelperLoose","done","value","BlackBoard","update","deltaTime","_BaseManager","BuildManager","Type_Build","_dec2","Node","_dec3","_dec4","Prefab","_descriptor","_applyDecoratedDescriptor","_BaseLoad","BuildScene","IsClick","_initializerDefineProperty","_assertThisInitialized","_descriptor2","_descriptor3","BuildArray","i","LocalMgr","LocalInfor","toyinfor","AddBuild","node","active","Command","Build_Init","Build_Buy","BuyToy","Content","buildindex","Build_AddBuild","CatPic","CatHome","CatBall","CatBowl","CatWallShi","onEnable","MainLoad","getComponent","Widget","bottom","on","Input","EventType","TOUCH_MOVE","TouchMove","onDisable","off","_e","UITransform","bottom_num","getDeltaY","TweenTool","SceneMove","Vec3","GetFirst","SendMessage","Type_Top","Top_ShowInstru","UpdateFirst","_buildindex","_toyinfor","SingleBuild","UdpateToy","type","sprite","BigjiaClick","_buildinfor","singlebuild","instantiate","addChild","UdpateContent","UpdateCat","cat","configurable","enumerable","writable","initializer","ButtonLoad","FoodClick","Top_ShowMenu","InstruClick","CatClick","Top_ShowCat","BuyClick","heartnum","parent","Type_Clear","Clear_Init","AddHeart","Top_ShowAd","loadname","AdLoad","Heart","cb","LoginScene","UpdateHeart","Top_ShowPopbox","BuildClick","MusicButton","MuteButton","_dec5","Cat","_descriptor4","FoodArray","CatPos","MenuName","CatBreed","getPosition","AppearCat","setPosition","CatAppear","ThinkBox","UpdateInfor","_breed","Sprite","spriteFrame","SpriteFrames","LeftHand","RightHand","UpdateFood","_menuname","Food","Menu","DisplayCat","CatDisplay","scheduleOnce","_dec6","Label","CatLoad","_descriptor5","CatRange","MenuRange","MenuBreed","Coin","Cat0","Cat1","Cat2","CatUpdateFood","_cat","_catbreed","_menubreed","menu","menu_breed","Math","floor","random","cat_breed","AddCoin","_coinnum","_pox","CoinText","string","toString","CoinAppear","ChooseScene","FoodNum","fish","chicken","beef","egg","grass","getChildByName","_foodname","Animation","ClearManager","ClearScene","ControLoad","ControlLoad","Graphics","_dec7","SurpleNum","_descriptor6","hor","ver","DistanceNum","ControlSize","IsStart","LastFood","DispalyFood","FoodName","FoodScale","x","foodarray","j","food","SingleFood","UpdateIndex","ChangeLineParent","LineLoad","add","TOUCH_START","TouchStart","TOUCH_END","TouchEnd","TOUCH_CANCEL","stepnum","UpdateSurple","BsetStep","linenum","AddClick","Step","AddStep","SurpleText","click_pos","getUILocation","y","subtract","getWorldPosition","ReturnFood","IamChoose","Line","clear","moveTo","clickfood","last_index","IIndex","last_name","new_index","abs","UpdateChooseFood","Tools","getPointAngle","_lineangle","_clickfood","lineTo","stroke","UpdateLine","PI","display_length","AddFood","ChooseLoad","_step2","horarray","_iterator2","display","indexOf","_i","_horarray","dis_array","nodis_array","max_num","array_length","IsChoose","down_num","DownNum","_i2","_dis_array","dis","UpdatePos","max","_step3","_iterator3","ImaNormal","FoodDown","_food","_touchpos","food_pos","CheckPoint","DebugViewRuntimeControl","_single","strSingle","strComposite","strMisc","compositeModeToggleList","singleModeToggleList","miscModeToggleList","textComponentList","labelComponentList","textContentList","hideButtonLabel","_currentColorIndex","strColor","color","Color","WHITE","BLACK","RED","GREEN","BLUE","Canvas","uiTransform","halfScreenWidth","halfScreenHeight","miscNode","buttonNode","name","titleNode","newLabel","EnableAllCompositeModeButton","setScale","labelComponent","overflow","currentRow","newNode","singleModeToggle","textComponent","getComponentInChildren","RichText","Toggle","TOGGLE","toggleSingleMode","Button","CLICK","enableAllCompositeMode","changeColorButton","changeTextColor","HideButton","hideUI","compositeModeToggle","isChecked","toggleLightingWithAlbedo","toggleCSMColoration","toggleCompositeMode","error","isTextMatched","textUI","textDescription","tempText","String","findIndex","search","substr","toggle","debugView","director","root","singleMode","enableCompositeMode","lightingWithAlbedo","csmLayerColoration","button","toggleComponent","activeValue","_dec8","_dec9","DownButton","NowScene","_descriptor7","_descriptor8","UpdateScale","UpdateCoin","HomeClick","nowscene","move_pos","Login_Init","buy_scale","cat_scale","home_scale","BuyButton","CatButton","HomeButton","HeartText","CatText","coinnum","DrawLoad","GanClick","SendPop","BallAni","GanAni","sort","check_cat","catfood","AddCat","coin_num","AddFail","_index","Cookie","setTimeout","InitCookie","DownLoad","UpdateData","UpdateBox","box","FoodLoad","changeindex","GreenClick","_clicknum","Number","_content","DyTools","SetStorage","_value","setStorageSync","GetStorage","getStorageSync","JSON","parse","CanShareFriend","showShareMenu","success","fail","errMsg","complete","Prefabs","path","SpriteFrame","Sound","AudioClip","ResName","LoadProgress","ChangeCat","ChangeMenu","Achieve","catnum","content","Game","BeefLine","ChickenLine","FishLine","BeefCan","ChickenCan","FishCan","Beefcookie","Chickencookie","Fishcookie","Dachen","dec","Duola","Zuoda","Huibai","Huihuang","Nainiu","Xiaoju","Daju","Xianluo","Loading","BarWidth","WxTools","ShareMenu","SetShare","ProgressBar","GetLocalStroage","LoadInit","LoadRes","_LoadRes","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_context","prev","next","LoadBundle","AssetList","Main","UpdateScene","GetData","checkSameDay","Date","gamestart","getTime","AllInfor","Text","onDestroy","LocalKey","SelfInfor","carecat","failnum","First","CatLevel","MenuLevel","stringify","localStorage","setItem","getItem","_scene","_heartnum","_failnum","_addnum","_catnum","cat_num","new_cat","_iscat","_sprite","AddCatBreed","AddMenu","Top_ShowGet","AddToy","_linenum","LoginManager","_initpos","_scenename","children","destroy","_type","_command","Top_HideAll","Top_ShowToy","Top_AddCat","Top_AddMenu","Top_ShowGift","msg","Message","NodeShoot","canvas","document","createElement","ctx","getContext","globalAlpha","shoot","target","save","mask","clearCanvas","scale","position","renderTexture","cc","RenderTexture","packable","setPremultiplyAlpha","_this$getCameraNode","getCameraNode","cameraNode","camera","setParent","initWithSize","game","_renderContext","STENCIL_INDEX8","targetTexture","Vec2","ZERO","render","data","Uint8Array","readPixels","halfHeight","ceil","row","srow","col","k","index1","index2","temp","imageData","createImageData","set","putImageData","texture","Texture2D","initWithElement","setTexture","base64","getBase64","saveImageToWebPlatform","dataURL","toDataURL","fileName","link","href","download","dispatchEvent","MouseEvent","saveImageToWXMiniGamePlatform","Promise","resolve","reject","saveImageToPhotosAlbum","filePath","Error","clearRect","addComponent","Camera","ortho","orthoSize","alignWithScreen","clearFlags","ClearFlags","COLOR","backgroundColor","Nouse","PopAchieve","PopAd","UpdateContent","_loadname","HeartLoad","StepLoad","LookClick","CloseClick","UIOpacity","PopBox","ShowToast","tween","Uiopacity","opacity","to","delay","TopScene","HideAll","PopCat","CatArray","ClickPos","AddSingle","singlecat","SingleCat","CatStart","CatEnd","removeChild","ContentLoad","getLocation","getPointDistance","Des","pos_y","PopGet","RotaSpeed","Light","angle","_infor","ShowContent","Title","Pop","splice","PopGift","IsAward","Show","checkScene","isExist","AwardButton","ReawrdClick","navigateToScene","PopInstru","PopMenu","_menu","singlemenu","SingleMenu","removeAllChildren","PopRule","_rule","PopToy","ToyArray","BuildIndex","ToyInfor","price","st","SingleToy","ToyStart","ToyEnd","UpdateToy","UpdateShow","index","_toy","toy_type","MyType","toy_infor","Bundles","NowProgress","_LoadBundle","_bundlename","_completeprogress","abrupt","_resolve","_reject","assetManager","loadBundle","bundle","_x","_x2","_callee2","_context2","loadDir","_fish","_total","_err","_assets","asset","warn","JsonAsset","json","_x3","_x4","_x5","CatSpeed","CatVx","NowIndex","BuildInfor","dt","ClickToy","_cus","_spriteframe","StarEffect","AddStar","Body","Nick","ScaleNum","choose","normal","Box","_hor","_ver","tag","easing","Tween","stopAllByTag","_node","_pos","backOut","_cookie","_food0","_food1","_food2","Food0","Food1","Food2","Toy","CCInteger","StarArray","StarNum","star","Star","_parent","PlayStar","angle_num","posx","cos","posy","sin","tween_angle","onUpdate","_target","_ratio","onComplete","test","Click","lable","pos","_clickpos","_elepos","_width","_height","_firstpoint","_secondpoint","atan2","hordis","verdis","sqrt","_firsttime","_secondtime","getFullYear","getMonth","getDate","TopManager","_dec10","_descriptor9","MaskBg","ShowMenu","ShowInstru","ShowCat","ShowPop","ShowToy","ShowGet","ShowAd","ShowGift","_adinfor","ScreenBoom","tween_time","scale_num","_startpos","_endpos","start_pos","end_pos","backIn","_coin","Share","_title","_picindex","shareAppMessage","imageUrlId","PicId","imageUrl","PicUrl","pic_index","onShareAppMessage","menus","_icon","_duration","duration","HideToast","hideToast","ShowModal","_successcb","_failcb","_completecb","showModal","showCancel","editable","confirm","cancel","ShowLoading","_mask","showLoading","HideLoading","hideLoading","ShowActionSheet","_alerttext","_itemlist","_itemcolor","showActionSheet","alertText","itemList","itemColor","VibrateShort","vibrateShort","VibrateLong","vibrateLong","GetUserInfor","getSetting","authSetting","getUserInfo","userInfo","sysInfo","getSystemInfoSync","screenW","screenWidth","screenH","screenHeight","createUserInfoButton","text","lineHeight","textAlign","fontSize","onTap"],"mappings":"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","file":"all.js","sourcesContent":["declare var wx;\ndeclare var tt;\nimport { _decorator, Component, Node, TerrainLayer } from 'cc';\nimport { Global } from '../Global';\nconst { ccclass, property } = _decorator;\n\n@ccclass('AdMgr')\n/**\n * 广告管理\n */\nexport class AdMgr extends Component {\n\n    //\n    private static _instance: AdMgr = null;\n    //\n    public static get instance() {\n        if (!this._instance) {\n            this._instance = new AdMgr();\n        }\n        return this._instance;\n    }\n\n    //回调\n    private Cb: Function | null = null;\n\n    // //微信广告配置\n    // private WxAd = {\n    //     VideoInfor: { ad: null, id: \"adunit-cd68f27c803028bf\" },//id是广告id\n    //     BannerInfor: { ad: null, id: \"adunit-a4d23d6becd2991e\" },//id是广告id\n    //     CustomAd: { ad: null, id: \"adunit-f0ae5d3a8f87d142\" }\n    // }\n    //微信广告配置\n    private WxAd = {\n        VideoInfor: { ad: null, id: null },//id是广告id\n        BannerInfor: { ad: null, id: null },//id是广告id\n        CustomAd: { ad: null, id: null }\n    }\n\n    //抖音广告配置\n    private DyAd = {\n        VideoInfor: { ad: null, id: \"3ajmhl5le9b39hm8kq\" },//id是广告id\n        BannerInfor: { ad: null, id: null }//id是广告id\n    }\n\n    //视频广告是否加载完成\n    private IsVideoComplete: boolean = false;\n\n    /**\n     * 初始化\n     */\n    public Init() {\n        //微信环境中\n        if (Global.IsWx) this.WxInit();\n        //抖音环境中\n        if (Global.IsDy) this.DyInit();\n    }\n\n    /**\n     * 微信广告初始化\n     */\n    public WxInit() {\n        //视频广告\n        if (this.WxAd.VideoInfor.id) {\n            this.WxAd.VideoInfor.ad = wx.createRewardedVideoAd({ adUnitId: this.WxAd.VideoInfor.id });\n            this.WxAd.VideoInfor.ad.onLoad(this.VideoComplete.bind(this));\n            this.WxAd.VideoInfor.ad.onError((err) => { Global.IsDebug && console.log(\"激励广告调用失败\", err) });\n            this.WxAd.VideoInfor.ad.onClose((e) => { this.VideoClose(e.isEnded); });\n        }\n        //banner广告\n        if (this.WxAd.BannerInfor.id) {\n            this.WxAd.BannerInfor.ad = wx.createBannerAd({\n                adUnitId: this.WxAd.BannerInfor.id,\n                adIntervals: 30,\n                style: {\n                    left: 0,\n                    top: 0,\n                    width: screen.width\n                }\n            })\n            this.WxAd.BannerInfor.ad.onError((err) => { Global.IsDebug && console.log(\"Banner广告拉去失败\", err) })\n            this.WxAd.BannerInfor.ad.onLoad(() => { Global.IsDebug && console.log(\"Banner广告加载成功\") })\n\n            this.WxAd.BannerInfor.ad.onResize((res) => {\n                this.WxAd.BannerInfor.ad.top = screen.height - res.height;\n            })\n        }\n        //原生广告\n        if (this.WxAd.CustomAd.id) {\n            this.WxAd.CustomAd.ad = wx.createCustomAd({\n                adUnitId: this.WxAd.CustomAd.id,\n                adIntervals: 30,\n                style: {\n                    left: 0,\n                    top: screen.height / 2 - 200,\n                }\n            })\n        }\n    }\n\n    /**\n     * 抖音广告初始化\n     */\n    public DyInit() {\n\n        tt.onShow((res) => {\n            console.log(\"抖音场景\", res);\n            Global.SceneString = (res.scene == \"021036\");\n            console.log(\"抖音场景1\", Global.SceneString);\n        })\n\n        if (this.DyAd.VideoInfor.id) {\n            this.DyAd.VideoInfor.ad = tt.createRewardedVideoAd({ adUnitId: this.DyAd.VideoInfor.id });\n            this.DyAd.VideoInfor.ad.onLoad(this.VideoComplete.bind(this));\n            this.DyAd.VideoInfor.ad.load();\n            this.DyAd.VideoInfor.ad.onClose((e) => { this.VideoClose(e.isEnded); })\n        }\n    }\n\n    /**\n     * 显示banner广告\n     * @param 是否显示\n     */\n    public ShowBanner(_isshow) {\n        if (Global.IsWx && this.WxAd.BannerInfor.id) {\n            if (_isshow) {\n                this.WxAd.BannerInfor.ad.show();\n                this.WxAd.BannerInfor.ad.style.top = screen.height - this.WxAd.BannerInfor.ad.style.realHeight;\n            }\n            else this.WxAd.BannerInfor.ad.hide();\n        }\n    }\n\n    /**\n     * 显示原生模板广告\n     */\n    public ShowCustom(_isshow) {\n        if (Global.IsWx && this.WxAd.CustomAd.id) {\n            if (_isshow) {\n                this.WxAd.CustomAd.ad.show();\n            }\n            else this.WxAd.CustomAd.ad.hide();\n        }\n    }\n\n    /**\n     * 显示视频广告\n     * @param 回调函数\n     */\n    public ShowVideo(_cb: Function) {\n        this.Cb = _cb;\n        if (Global.IsWx && this.WxAd.VideoInfor.ad) {\n            //播放广告\n            this.WxAd.VideoInfor.ad.show().catch(() => {\n                //显示失败了重新加载\n                this.WxAd.VideoInfor.ad.load().then(() => {\n                    this.WxAd.VideoInfor.ad.show().catch((err) => {\n                        //显示失败了重新加载\n                        Global.IsDebug && console.log('视频广告加载失败', err);\n                        this.VideoClose(false);\n                    })\n                })\n            })\n            return;\n        }\n\n        if (Global.IsDy && this.DyAd.VideoInfor.ad) {\n            //播放广告\n            this.DyAd.VideoInfor.ad.show().catch(() => {\n                //显示失败了重新加载\n                this.DyAd.VideoInfor.ad.load().then(() => {\n                    this.DyAd.VideoInfor.ad.show().catch((err) => {\n                        //显示失败了重新加载\n                        Global.IsDebug && console.log('视频广告加载失败', err);\n                        this.VideoClose(false);\n                    })\n                })\n            })\n            return;\n        }\n\n        this.VideoClose(true);\n    }\n\n\n    /**\n     * 激励广告点击关闭按钮\n     * @param 是否在完整观看得情况下关闭\n     */\n    public VideoClose(_isended: boolean) {\n        console.log(_isended, \"用户看完了么\")\n        if (Global.IsDy) {\n            tt.showToast({\n                title: _isended ? \"领取成功\" : \"领取失败\",\n                icon: _isended ? \"success\" : \"fail\"\n            })\n        }\n        this.Cb && this.Cb(_isended);\n    }\n\n    /**\n     * 视频广告加载完成\n     */\n    private VideoComplete() {\n        Global.IsDebug && console.log(\"广告加载完成\");\n        this.IsVideoComplete = true;\n    }\n\n}\n\n\n","import { _decorator, Component, Node, AudioSourceComponent, AudioSource } from 'cc';\nimport { ResMgr } from './ResMgr';\nimport { Global } from '../Global';\nconst { ccclass, property } = _decorator;\n\n@ccclass('AudioMgr')\n/**\n * 音效管理\n */\nexport class AudioMgr {\n    //\n    private static _instance: AudioMgr = null;\n    //\n    public static get instance() {\n        if (!this._instance) {\n            this._instance = new AudioMgr();\n        }\n        return this._instance;\n    }\n\n    //背景音乐管理\n    private BgSound: AudioSourceComponent = null;\n\n    private EffectSound = {};\n\n    //是否是静音状态\n    public IsMute: boolean = false;\n\n    /**\n     * 初始化\n     */\n    public Init() {\n        this.BgSound = new AudioSourceComponent();;\n    }\n\n    /**\n     * 播放背景音效\n     * @param 背景音效名称\n     * @param 背景音效声量\n     */\n    public PlayBgSound(_bgsoundname: string, _volume: number = 0.6) {\n        this.IsMute = false;\n        this.BgSound.clip = ResMgr.instance.Audio[_bgsoundname];\n        this.BgSound.play();\n        this.BgSound.volume = _volume;\n        this.BgSound.loop = true;\n    }\n\n    /**\n     * 暂停背景音效\n     */\n    public StopBgSound() {\n        this.IsMute = true;\n        this.BgSound.stop();\n\n        for (let effect in this.EffectSound) {\n            this.EffectSound[effect].stop();\n        }\n\n    }\n\n    /**\n     * 播放音效\n     * @param 音效名称\n     * @param 播放索引\n     */\n    public PlayEffect(_sound: string, _name: string) {\n        if (!this.IsMute) {\n            if (this.EffectSound[_name]) {\n                this.EffectSound[_name].clip = ResMgr.instance.Audio[_sound];\n                this.EffectSound[_name].loop = false;\n            } else {\n                let effectsound: AudioSourceComponent = new AudioSourceComponent();\n                effectsound.clip = ResMgr.instance.Audio[_sound];\n                effectsound.loop = false;\n                this.EffectSound[_name] = effectsound;\n            }\n            this.EffectSound[_name].play();\n            // this.EffectSound.node.on(AudioSource.EventType.STARTED,);\n        }\n    }\n\n    /**\n     * 点击按钮\n     */\n    public PlayButton() {\n        this.PlayEffect(\"click\", \"click\")\n    }\n\n    /**\n     * 连接音效\n     */\n    public PlayLine() {\n        this.PlayEffect(\"choose\", \"click\")\n    }\n\n    /**\n     * 播放成功\n     */\n    public PlaySuccess() {\n        this.PlayEffect(\"success\", \"click\");\n    }\n\n    /**\n     * 播放失败\n     */\n    public PlayFail() {\n        this.PlayEffect(\"fail\", \"click\");\n    }\n}\n\n","import { _decorator, Component, Node } from 'cc';\nimport { Message } from './Message';\nconst { ccclass, property } = _decorator;\n\n@ccclass('BaseLoad')\nexport class BaseLoad extends Component {\n\n    /**\n     * 接受消息\n     */\n    ReceiveMessage(_msg: Message) {\n\n    }\n\n}\n\n\n","import { _decorator, Component, Node } from 'cc';\nimport { BaseLoad } from './BaseLoad';\nimport { Message, MessageType } from './Message';\nimport { MessageCenter } from './MessageCenter';\nconst { ccclass, property } = _decorator;\n\n@ccclass('BaseManager')\nexport class BaseManager extends Component {\n\n    //管理消息接收列表\n    private ReceiveList: BaseLoad[] = [];\n\n    //当前管理器类型\n    public MessageType: number;\n\n    start() {\n        this.MessageType = this.SetMessageType();\n        MessageCenter.Managers.push(this);//创建了基础管理类的同时加入到消息中心的管理列表中。\n    }\n\n    /**\n     * 设置当前管理类型\n     */\n    SetMessageType() {\n        return MessageType.Type_Login;\n    }\n\n    /**\n     * 注册消息监听\n     */\n    RegisterReceiver(_receive: BaseLoad) {\n        this.ReceiveList.push(_receive);\n    }\n\n    /**\n     * 接收消息\n     */\n    ReceiveMessage(_msg: Message) {\n        if (_msg.Type != this.MessageType) return;\n        for (let receive of this.ReceiveList) {\n            receive.ReceiveMessage(_msg);\n        }\n    }\n\n}\n\n\n","import { _decorator, Component, Node } from 'cc';\nconst { ccclass, property } = _decorator;\n\n@ccclass('BlackBoard')\n/**\n * 黑板\n */\nexport class BlackBoard extends Component {\n    start() {\n\n    }\n\n    update(deltaTime: number) {\n\n    }\n}\n\n\n","import { _decorator, Component, Node } from 'cc';\nimport { BaseManager } from '../BaseManager';\nimport { MessageType } from '../Message';\nconst { ccclass, property } = _decorator;\n\n@ccclass('BuildManager')\nexport class BuildManager extends BaseManager {\n    //单例\n    static _instance: BuildManager;\n\n    onLoad() {\n        BuildManager._instance = this;\n    }\n\n    SetMessageType() {\n        return MessageType.Type_Build;\n    }\n}\n\n\n","import { _decorator, bezierByTime, Component, EventTouch, Input, instantiate, Node, Prefab, UITransform, Vec3, view, Widget } from 'cc';\nimport { BaseLoad } from '../../Message/BaseLoad';\nimport { BuildManager } from '../../Message/Manager/BuildManager';\nimport { Message, MessageType } from '../../Message/Message';\nimport { Global } from '../../Global';\nimport { TweenTool } from '../../Tools/TweenTools';\nimport { MessageCenter } from '../../Message/MessageCenter';\nimport { AudioMgr } from '../../Mgr/AudioMgr';\nimport { SingleBuild } from './SingleBuild';\nimport { LocalMgr } from '../../Mgr/LocalMgr';\nconst { ccclass, property } = _decorator;\n\n@ccclass('BuildScene')\nexport class BuildScene extends BaseLoad {\n\n    //是否可以点击\n    private IsClick: boolean = false;\n\n    //主要显示层\n    @property(Node)\n    private MainLoad: Node | null = null;\n\n    //大的加号\n    @property(Node)\n    private BigJia: Node | null = null;\n\n    //单个建筑预设体\n    @property(Prefab)\n    private SingleBuild: Prefab | null = null;\n\n    //建筑物品数组\n    private BuildArray: Node[] = [];\n\n    protected onLoad(): void {\n        BuildManager._instance.RegisterReceiver(this);\n\n        for (let i = 0; i < LocalMgr.instance.LocalInfor.toyinfor.length; i++) {\n            this.AddBuild(LocalMgr.instance.LocalInfor.toyinfor[i]);\n        }\n\n        this.node.active = false;\n    }\n\n    /**\n     * 接收消息\n     */\n    ReceiveMessage(_msg: Message): void {\n        Global.IsDebug && console.log(\"BuildScene接收消息\", _msg);\n        switch (_msg.Command) {\n            case MessageType.Build_Init:\n                this.Init();\n                break;\n            case MessageType.Build_Buy:\n                this.BuyToy(_msg.Content.buildindex, _msg.Content.toyinfor);\n                break;\n            case MessageType.Build_AddBuild:\n                LocalMgr.instance.AddBuild()\n                this.AddBuild({ CatPic: \"\", CatHome: \"\", CatBall: \"\", CatBowl: \"\", CatWallShi: \"\" });\n            default:\n                break;\n        }\n    }\n\n    protected onEnable(): void {\n        this.MainLoad.getComponent(Widget).bottom = 180;\n        this.node.on(Input.EventType.TOUCH_MOVE, this.TouchMove, this);\n    }\n\n    protected onDisable(): void {\n        this.node.off(Input.EventType.TOUCH_MOVE, this.TouchMove, this);\n    }\n\n    /**\n     * 用户滑动\n     */\n    private TouchMove(_e: EventTouch) {\n        if (this.MainLoad.getComponent(UITransform).height <= screen.height * 2) return;\n\n        let bottom_num: number = this.MainLoad.getComponent(Widget).bottom + _e.getDeltaY();\n\n        if (bottom_num >= 180) bottom_num = 180;\n        else if (bottom_num <= screen.height * 2 - this.MainLoad.getComponent(UITransform).height) bottom_num = screen.height * 2 - this.MainLoad.getComponent(UITransform).height\n\n        this.MainLoad.getComponent(Widget).bottom = bottom_num;\n    }\n\n    /**\n     * 初始化\n     */\n    private Init() {\n        this.IsClick = false;\n        this.node.active = true;\n        TweenTool.SceneMove(this.node, new Vec3(-750, 0, 0), new Vec3(0, 0, 0), () => {\n            this.IsClick = true;\n            if (!LocalMgr.instance.GetFirst(\"build\")) {\n                MessageCenter.SendMessage(\n                    MessageType.Type_Top,\n                    MessageType.Top_ShowInstru,\n                    \"rule2\"\n                );\n                LocalMgr.instance.UpdateFirst(\"build\");\n            }\n        });\n    }\n\n    /**\n     * 购买玩具\n     * @param 购买建筑索引\n     * @param 玩具信息\n     */\n    private BuyToy(_buildindex: number, _toyinfor: { type: string, sprite: string }) {\n        this.BuildArray[_buildindex].getComponent(SingleBuild).UdpateToy(_toyinfor.type, _toyinfor.sprite)\n    }\n\n    /**\n     * 点击大加号\n     */\n    private BigjiaClick() {\n        AudioMgr.instance.PlayButton();\n\n        LocalMgr.instance.AddBuild()\n        this.AddBuild({ CatPic: \"\", CatHome: \"\", CatBall: \"\", CatBowl: \"\", CatWallShi: \"\" });\n    }\n\n    /**\n     * 添加建筑物\n     * @param 建筑信息\n     */\n    private AddBuild(_buildinfor: { CatPic: string, CatHome: string, CatBall: string, CatBowl: string, CatWallShi: string }) {\n        let singlebuild: Node = instantiate(this.SingleBuild);\n        this.MainLoad.addChild(singlebuild);\n        singlebuild.getComponent(SingleBuild).UdpateContent(_buildinfor, this.BuildArray.length);\n        singlebuild.getComponent(SingleBuild).UpdateCat(LocalMgr.instance.LocalInfor.cat[this.BuildArray.length]);\n        this.BuildArray.push(singlebuild);\n        // this.BigJia.setSiblingIndex(this.MainLoad.children.length - 1)\n    }\n\n}\n\n\n","import { _decorator, Component, Node, Vec3 } from 'cc';\nimport { MessageCenter } from '../../Message/MessageCenter';\nimport { MessageType } from '../../Message/Message';\nimport { TweenTool } from '../../Tools/TweenTools';\nimport { AdLoad, Global } from '../../Global';\nimport { LocalMgr } from '../../Mgr/LocalMgr';\nimport { WxTools } from '../../Tools/WxTools';\nimport { AdMgr } from '../../Mgr/AdMgr';\nimport { LoginScene } from './LoginScene';\nimport { AudioMgr } from '../../Mgr/AudioMgr';\nconst { ccclass, property } = _decorator;\n\n@ccclass('ButtonLoad')\n/**\n * 按钮层\n */\nexport class ButtonLoad extends Component {\n\n    //静音按钮\n    @property(Node)\n    private MuteButton: Node | null = null;\n\n\n    /**\n     * 点击食物按钮\n     */\n    private FoodClick() {\n        AudioMgr.instance.PlayButton();\n        MessageCenter.SendMessage(\n            MessageType.Type_Top,\n            MessageType.Top_ShowMenu,\n            null\n        )\n    }\n\n    /**\n     * 点击介绍按钮\n     */\n    private InstruClick() {\n        AudioMgr.instance.PlayButton();\n        MessageCenter.SendMessage(\n            MessageType.Type_Top,\n            MessageType.Top_ShowInstru,\n            \"rule0\"\n        )\n    }\n\n    /**\n     * 点击猫咪图鉴按钮\n     */\n    private CatClick() {\n        AudioMgr.instance.PlayButton();\n        MessageCenter.SendMessage(\n            MessageType.Type_Top,\n            MessageType.Top_ShowCat,\n            null\n        )\n    }\n\n    /**\n     * 点击进入消除场景\n     */\n    private BuyClick() {\n\n        AudioMgr.instance.PlayButton();\n        if (LocalMgr.instance.LocalInfor.heartnum == 0) {\n            MessageCenter.SendMessage(\n                MessageType.Type_Top,\n                MessageType.Top_ShowAd,\n                {\n                    loadname: AdLoad.Heart,\n                    cb: () => {\n                        LocalMgr.instance.AddHeart(1);\n                        this.node.parent.getComponent(LoginScene).UpdateHeart();\n                        MessageCenter.SendMessage(\n                            MessageType.Type_Top,\n                            MessageType.Top_ShowPopbox,\n                            \"喵喵送你1点体力值\"\n                        )\n                    }\n                }\n            )\n            return;\n        }\n\n        TweenTool.SceneMove(this.node.parent, new Vec3(0, 0, 0), new Vec3(-750, 0, 0), () => {\n            this.node.parent.active = false;\n        })\n        MessageCenter.SendMessage(\n            MessageType.Type_Clear,\n            MessageType.Clear_Init,\n            null\n        );\n\n        LocalMgr.instance.AddHeart(-1);\n\n    }\n\n    /**\n     * 点击建筑按钮\n     */\n    private BuildClick() {\n        AudioMgr.instance.PlayButton();\n        TweenTool.SceneMove(this.node.parent, new Vec3(0, 0, 0), new Vec3(750, 0, 0), () => {\n            this.node.parent.active = false;\n        })\n\n        MessageCenter.SendMessage(\n            MessageType.Type_Build,\n            MessageType.Build_Init,\n            null\n        )\n    }\n\n    /**\n     * 点击音效按钮\n     */\n    private MusicButton() {\n        AudioMgr.instance.PlayButton();\n\n        if (AudioMgr.instance.IsMute) {\n            AudioMgr.instance.PlayBgSound(\"bg\");\n        } else {\n            AudioMgr.instance.StopBgSound();\n        }\n\n        this.MuteButton.active = AudioMgr.instance.IsMute;\n\n    }\n\n\n}\n\n\n","import { _decorator, Component, Input, Label, Node, Sprite, Vec3 } from 'cc';\nimport { TweenTool } from '../../Tools/TweenTools';\nimport { Global } from '../../Global';\nimport { ResMgr } from '../../Mgr/ResMgr';\nconst { ccclass, property } = _decorator;\n\n@ccclass('Cat')\n/**\n * 首页得猫咪\n */\nexport class Cat extends Component {\n\n    //左手\n    @property(Node)\n    private LeftHand: Node | null = null;\n\n    //右手\n    @property(Node)\n    private RightHand: Node | null = null;\n\n    //思想框\n    @property(Node)\n    public ThinkBox: Node | null = null;\n\n    //食物\n    @property(Node)\n    private Food: Node | null = null;\n\n    //我得食物数组\n    public FoodArray: string[] = [];\n\n    //猫咪位置\n    private CatPos: Vec3 = new Vec3(-217.798, 171.458, 0);\n\n    //菜单名称\n    public MenuName: string = \"\";\n\n    //猫咪种类\n    public CatBreed: string = \"\";\n\n    protected onLoad(): void {\n        this.CatPos = this.node.getPosition();\n        console.log(this.CatPos)\n    }\n\n    /**\n     * 更换猫咪样式\n     */\n    public AppearCat() {\n        this.node.active = true;\n        this.node.setPosition(this.CatPos);\n        TweenTool.CatAppear(this.node, () => {\n            this.ThinkBox.active = true;\n        });\n    }\n\n    /**\n     * 更新信息\n     * @param 猫咪种类\n     */\n    public UpdateInfor(_breed: string) {\n        this.CatBreed = _breed;\n        let cat: string = Global.CatBreed[_breed].sprite;\n        this.node.getComponent(Sprite).spriteFrame = ResMgr.instance.SpriteFrames[cat];\n        this.LeftHand.getComponent(Sprite).spriteFrame = ResMgr.instance.SpriteFrames[cat + \"hand\"];\n        this.RightHand.getComponent(Sprite).spriteFrame = ResMgr.instance.SpriteFrames[cat + \"hand\"];\n    }\n\n    /**\n     * 更新食物\n     * @param 菜单名称\n     */\n    public UpdateFood(_menuname: string) {\n        this.MenuName = _menuname;\n        this.Food.getComponent(Sprite).spriteFrame = ResMgr.instance.SpriteFrames[_menuname];\n        this.FoodArray = Global.Menu[_menuname]\n    }\n\n    /**\n     * 隐藏\n     * @param 菜品信息\n     * @param 猫咪信息\n     */\n    public DisplayCat(_menuname: string, _breed: string) {\n        this.ThinkBox.active = false;\n        TweenTool.CatDisplay(this.node, () => {\n            this.UpdateFood(_menuname);\n            this.UpdateInfor(_breed);\n            this.scheduleOnce(this.AppearCat, 0.1);\n        });\n    }\n\n}\n\n\n","import { _decorator, Component, EventTouch, Input, Label, Node, Vec3 } from 'cc';\nimport { Cat } from './Cat';\nimport { Global } from '../../Global';\nimport { LocalMgr } from '../../Mgr/LocalMgr';\nimport { TweenTool } from '../../Tools/TweenTools';\nconst { ccclass, property } = _decorator;\n\n@ccclass('CatLoad')\n/**\n * 猫咪层\n */\nexport class CatLoad extends Component {\n\n    //猫咪\n    @property(Node)\n    private Cat0: Node | null = null;\n\n    @property(Node)\n    private Cat1: Node | null = null;\n\n    @property(Node)\n    private Cat2: Node | null = null;\n\n    //金币层级\n    @property(Node)\n    private Coin: Node | null = null;\n\n    //金币文字\n    @property(Label)\n    private CoinText: Label | null = null;\n\n    //猫咪出现范围\n    private CatRange: number = 1;\n    //猫咪种类数组\n    private CatBreed: string[] = [\"Dachen\"]\n    // private CatBreed: string[] = [\"Dachen\", \"Duola\", \"Zuoda\", \"Huibai\", \"Huihuang\", \"Nainiu\"]\n\n    //菜单种类\n    private MenuRange: number = 1;\n    private MenuBreed: string[] = [\"FishLine\"]\n    // private MenuBreed: string[] = [\"BeefLine\", \"ChickenLine\", \"FishLine\", \"BeefCan\", \"ChickenCan\", \"FishCan\", \"Beefcookie\", \"Chickencookie\", \"Fishcookie\"]\n\n    start() {\n\n        this.Coin.active = false;\n\n        this.Cat0.active = this.Cat1.active = this.Cat2.active = false;\n        this.CatUpdateFood(this.Cat0);\n        this.CatUpdateFood(this.Cat1);\n        this.CatUpdateFood(this.Cat2);\n    }\n\n    /**\n     * 猫咪更新食物\n     * @param 猫咪层\n     * @param 猫咪样式\n     * @param 菜单样式\n     */\n    public CatUpdateFood(_cat: Node, _catbreed: string = null, _menubreed: string = null) {\n\n        this.CatBreed = LocalMgr.instance.LocalInfor.cat.concat();\n        this.MenuBreed = LocalMgr.instance.LocalInfor.menu.concat();\n\n        this.CatRange = this.CatBreed.length;\n        this.MenuRange = this.MenuBreed.length;\n\n        let menu_breed: string = this.MenuBreed[Math.floor(this.MenuRange * Math.random())];\n        let cat_breed: string = this.CatBreed[Math.floor(this.CatRange * Math.random())]\n\n        _cat.getComponent(Cat).DisplayCat(menu_breed, cat_breed);\n    }\n\n    /**\n     * 加金币提示\n     * @param 金币数量\n     */\n    public AddCoin(_coinnum: number, _pox: number) {\n        console.log(\"调用信息\", _coinnum, _pox)\n        this.Coin.active = true;\n        this.CoinText.string = \"+\" + _coinnum.toString();\n        this.Coin.setPosition(new Vec3(_pox, 290, 0));\n        TweenTool.CoinAppear(this.Coin, null);\n    }\n\n    /**\n     * 最开始只有三个猫条菜单\n     * 每个食材只给三个\n     * \n     * 根据猫咪的数量添加菜单和猫咪种类\n     * \n     * \n     * \n     */\n\n\n\n}\n\n\n","import { _decorator, Animation, Component, Label, Node } from 'cc';\nconst { ccclass, property } = _decorator;\n\n@ccclass('ChooseScene')\n/**\n * 选择层\n */\nexport class ChooseScene extends Component {\n\n    //食物数量\n    private FoodNum = {\n        fish: 0,\n        chicken: 0,\n        beef: 0,\n        egg: 0,\n        grass: 0\n    }\n\n    /**\n     * 初始化\n     */\n    public Init() {\n        for (let key in this.FoodNum) {\n            this.FoodNum[key] = 0;\n            this.node.getChildByName(key + \"\").getChildByName(\"Num\").getComponent(Label).string = \"0\";\n        }\n    }\n\n    /**\n     * 更新食物数量\n     * @param 食物名称\n     */\n    public UpdateFood(_foodname: string) {\n        this.FoodNum[_foodname]++;\n        this.node.getChildByName(_foodname).getChildByName(\"Num\").getComponent(Label).string = this.FoodNum[_foodname];\n        this.node.getChildByName(_foodname).getChildByName(\"Food\").getComponent(Animation).play();\n    }\n\n}\n\n\n","import { _decorator, Component, Node } from 'cc';\nimport { BaseManager } from '../BaseManager';\nimport { MessageType } from '../Message';\nconst { ccclass, property } = _decorator;\n\n@ccclass('ClearManager')\nexport class ClearManager extends BaseManager {\n    //单例\n    static _instance: ClearManager;\n\n    onLoad() {\n        ClearManager._instance = this;\n    }\n\n    SetMessageType() {\n        return MessageType.Type_Clear;\n    }\n}\n\n\n","import { _decorator, Component, Node, Vec3 } from 'cc';\nimport { BaseLoad } from '../../Message/BaseLoad';\nimport { ClearManager } from '../../Message/Manager/ClearManager';\nimport { Message, MessageType } from '../../Message/Message';\nimport { Global } from '../../Global';\nimport { TweenTool } from '../../Tools/TweenTools';\nimport { MessageCenter } from '../../Message/MessageCenter';\nimport { ChooseScene } from './ChooseScene';\nimport { ControlLoad } from './ControlLoad';\nimport { AudioMgr } from '../../Mgr/AudioMgr';\nimport { LocalMgr } from '../../Mgr/LocalMgr';\nconst { ccclass, property } = _decorator;\n\n@ccclass('ClearScene')\nexport class ClearScene extends BaseLoad {\n\n    //选择层\n    @property(Node)\n    private ChooseScene: Node | null = null;\n\n    //操作层\n    @property(Node)\n    private ControLoad: Node | null = null;\n\n    //是否可以点击\n    private IsClick: boolean = false;\n\n    protected onLoad(): void {\n        ClearManager._instance.RegisterReceiver(this)\n        this.node.active = false;\n    }\n\n    /**\n     * 接收消息\n     */\n    ReceiveMessage(_msg: Message): void {\n        Global.IsDebug && console.log(\"ClearScene接收消息\", _msg);\n        switch (_msg.Command) {\n            case MessageType.Clear_Init:\n                this.Init();\n                break;\n        }\n    }\n\n    /**\n     * 初始化\n     */\n    private Init() {\n        this.IsClick = false;\n        this.node.active = true;\n        TweenTool.SceneMove(this.node, new Vec3(750, 0, 0), new Vec3(0, 0, 0), () => {\n            this.IsClick = true;\n\n            if (!LocalMgr.instance.GetFirst(\"clear\")) {\n                MessageCenter.SendMessage(\n                    MessageType.Type_Top,\n                    MessageType.Top_ShowInstru,\n                    \"rule1\"\n                );\n                LocalMgr.instance.UpdateFirst(\"clear\");\n            }\n\n        });\n        this.ChooseScene.getComponent(ChooseScene).Init();\n        this.ControLoad.getComponent(ControlLoad).Init();\n    }\n\n    start() {\n\n    }\n\n    update(deltaTime: number) {\n\n    }\n}\n\n\n","import { _decorator, Camera, Component, EventTouch, Graphics, Input, instantiate, Label, Node, Prefab, Vec3, view } from 'cc';\nimport { SingleFood } from './SingleFood';\nimport { ResMgr } from '../../Mgr/ResMgr';\nimport { AdLoad, Global } from '../../Global';\nimport { Tools } from '../../Tools/Tools';\nimport { ChooseScene } from './ChooseScene';\nimport { LocalMgr } from '../../Mgr/LocalMgr';\nimport { MessageCenter } from '../../Message/MessageCenter';\nimport { MessageType } from '../../Message/Message';\nimport { AudioMgr } from '../../Mgr/AudioMgr';\nimport { AdMgr } from '../../Mgr/AdMgr';\nconst { ccclass, property } = _decorator;\n\n@ccclass('ControlLoad')\n/**\n * 操作层\n */\nexport class ControlLoad extends Component {\n\n    //线层\n    @property(Node)\n    private LineLoad: Node | null = null;\n\n    //单个食物预设\n    @property(Prefab)\n    private Food: Prefab | null = null;\n\n    //选择层\n    @property(Node)\n    private ChooseLoad: Node | null = null;\n\n    //剩余步数文案\n    @property(Label)\n    private SurpleText: Label | null = null;\n    private SurpleNum: number = 10;\n\n    //绘制线条\n    @property(Graphics)\n    private Line: Graphics | null = null;\n\n    //最长步数\n    @property(Label)\n    private BsetStep: Label | null = null;\n\n    //食物数组\n    private FoodArray: Node[][] = [];\n\n    //实物数量\n    private FoodNum: { hor: number, ver: number } = { hor: 5, ver: 6 };\n    private DistanceNum: number = 150;\n\n    //操作层宽高\n    private ControlSize: { width: number, height: number } = {\n        width: 650, height: 900\n    }\n\n    //是否点击了\n    private IsStart: boolean = false;\n    //最后选择的食物\n    private LastFood: Node | null = null;\n    //消除食物的数组\n    private DispalyFood: Node[] = [];\n\n    //可选食物数组\n    private FoodName: string[] = [\"fish\", \"chicken\", \"beef\"];\n    // private FoodName: string[] = [\"fish\", \"chicken\", \"beef\", \"egg\", \"grass\"];\n\n    start() {\n\n        this.DistanceNum *= Global.FoodScale.x;\n\n        for (let i = 0; i < this.FoodNum.hor; i++) {\n            let foodarray: Node[] = [];\n            for (let j = 0; j < this.FoodNum.ver; j++) {\n                let food: Node = instantiate(this.Food);\n                this.node.addChild(food);\n                food.getComponent(SingleFood).UpdateFood(this.FoodName[Math.floor(Math.random() * this.FoodName.length)]);\n                food.getComponent(SingleFood).UpdateIndex(i, j);\n                food.setPosition(new Vec3(\n                    -this.ControlSize.width / 2 + (i + 0.5) * this.DistanceNum,\n                    -this.ControlSize.height / 2 + (j + 0.5) * this.DistanceNum, \n                    0))\n                food.getComponent(SingleFood).ChangeLineParent(this.LineLoad, food.getPosition());\n                foodarray.push(food);\n            }\n            this.FoodArray.push(foodarray);\n        }\n\n        //更新棋盘位置\n        this.node.setPosition(this.node.getPosition().add(new Vec3((this.ControlSize.width - this.FoodNum.hor * this.DistanceNum) / 2, 0, 0)))\n\n        this.node.on(Input.EventType.TOUCH_START, this.TouchStart, this);\n        this.node.on(Input.EventType.TOUCH_MOVE, this.TouchMove, this);\n        this.node.on(Input.EventType.TOUCH_END, this.TouchEnd, this);\n        this.node.on(Input.EventType.TOUCH_CANCEL, this.TouchEnd, this);\n\n    }\n\n    /**\n     * 初始化\n     */\n    public Init() {\n        this.SurpleNum = LocalMgr.instance.LocalInfor.stepnum;\n        this.UpdateSurple();\n\n        this.BsetStep.string = \"最长连接:\" + LocalMgr.instance.LocalInfor.linenum.toString();\n    }\n\n    /**\n     * 点击增加次数按钮\n     */\n    private AddClick() {\n        AudioMgr.instance.PlayButton();\n\n        MessageCenter.SendMessage(\n            MessageType.Type_Top,\n            MessageType.Top_ShowAd,\n            {\n                loadname: AdLoad.Step,\n                cb: () => {\n                    LocalMgr.instance.AddStep();\n                    this.SurpleNum += 3;\n                    this.UpdateSurple();\n                    MessageCenter.SendMessage(\n                        MessageType.Type_Top,\n                        MessageType.Top_ShowPopbox,\n                        \"喵喵多赠送你3次步数\"\n                    )\n                }\n            }\n        )\n    }\n\n    /**\n     * 更新剩余步数文案\n     */\n    private UpdateSurple() {\n        this.SurpleText.string = \"剩余步数:\" + this.SurpleNum.toString();\n    }\n\n    /**\n     * 开始点击屏幕\n     */\n    private TouchStart(_e: EventTouch) {\n\n        if (this.SurpleNum == 0) {\n            this.AddClick();\n            return;\n        }\n\n        //点击位置\n        let click_pos: Vec3 = new Vec3(_e.getUILocation().x, _e.getUILocation().y, 0).subtract(this.node.getWorldPosition());\n\n        this.LastFood = this.ReturnFood(click_pos);\n\n        if (this.LastFood != null) {\n            this.LastFood.getComponent(SingleFood).IamChoose();\n            this.DispalyFood = [this.LastFood];\n            this.Line.clear();\n            this.Line.moveTo(this.LastFood.getPosition().x, this.LastFood.getPosition().y);\n            AudioMgr.instance.PlayLine();\n        }\n\n    }\n\n    /**\n     * 手指移动\n     */\n    private TouchMove(_e: EventTouch) {\n\n        //点击位置\n        let click_pos: Vec3 = new Vec3(_e.getUILocation().x, _e.getUILocation().y, 0).subtract(this.node.getWorldPosition());\n\n        let clickfood: Node = this.ReturnFood(click_pos);\n        if (this.DispalyFood.length != 0 && clickfood != null) {\n\n            //判断是否符合选择条件\n            let last_index: { hor: number, ver: number } = this.LastFood.getComponent(SingleFood).IIndex;\n            let last_name: string = this.LastFood.getComponent(SingleFood).FoodName;\n\n            //新食物的属性\n            let new_index: { hor: number, ver: number } = clickfood.getComponent(SingleFood).IIndex;\n            let new_name: string = clickfood.getComponent(SingleFood).FoodName;\n\n            if (last_name == new_name) {\n                //横向相同\n                if (last_index.hor == new_index.hor && Math.abs(last_index.ver - new_index.ver) == 1) {\n                    this.UpdateChooseFood(Tools.getPointAngle(last_index, new_index), clickfood);\n                }\n                //纵向相同\n                if (last_index.ver == new_index.ver && Math.abs(last_index.hor - new_index.hor) == 1) {\n                    this.UpdateChooseFood(Tools.getPointAngle(last_index, new_index), clickfood);\n                }\n                //斜方相同\n                if (Math.abs(last_index.ver - new_index.ver) == 1 && Math.abs(last_index.hor - new_index.hor) == 1) {\n                    this.UpdateChooseFood(Tools.getPointAngle(last_index, new_index), clickfood);\n                }\n            }\n\n        };\n    }\n\n    /**\n     * 更新选择食物信息\n     * @param 线条角度\n     * @param 新的食物\n     */\n    private UpdateChooseFood(_lineangle: number, _clickfood: Node) {\n        this.Line.lineTo(_clickfood.getPosition().x, _clickfood.getPosition().y);\n        this.Line.stroke();\n        AudioMgr.instance.PlayLine();\n        this.LastFood.getComponent(SingleFood).UpdateLine(_lineangle * 180 / Math.PI - 90);\n        this.LastFood = _clickfood;\n        this.LastFood.getComponent(SingleFood).IamChoose();\n        this.DispalyFood.push(this.LastFood)\n    }\n\n    /**\n     * 手指抬起\n     */\n\n    private TouchEnd(_e: EventTouch) {\n\n        this.Line.clear();\n        if (this.SurpleNum == 0) {\n            return;\n        }\n\n        //\n        let display_length: number = this.DispalyFood.length;\n\n        //如果只有一个元素，不处理\n        if (display_length > 1) {\n\n            AudioMgr.instance.PlaySuccess();\n\n            //加分\n            for (let food of this.DispalyFood) {\n                LocalMgr.instance.AddFood(food.getComponent(SingleFood).FoodName, 1);\n                this.ChooseLoad.getComponent(ChooseScene).UpdateFood(food.getComponent(SingleFood).FoodName)\n            }\n\n            //\n            let horarray: number[] = [];\n            for (let display of this.DispalyFood) if (horarray.indexOf(display.getComponent(SingleFood).IIndex.hor) < 0) horarray.push(display.getComponent(SingleFood).IIndex.hor);\n\n            for (let hor of horarray) {\n\n                let dis_array: Node[] = [];\n                let nodis_array: Node[] = [];\n                let max_num: number = 0;\n\n                let array_length: number = this.FoodArray[hor].length;\n                for (let i = 0; i < array_length; i++) {\n                    if (this.FoodArray[hor][i].getComponent(SingleFood).IsChoose) {\n                        dis_array.push(this.FoodArray[hor][i]);\n                        max_num++;\n                    }\n                    else {\n                        nodis_array.push(this.FoodArray[hor][i]);\n                        //判断有几个消失的\n                        let down_num: number = 0;\n                        for (let j = 0; j <= i; j++) {\n                            if (this.FoodArray[hor][j].getComponent(SingleFood).IsChoose) down_num++;\n                        };\n                        this.FoodArray[hor][i].getComponent(SingleFood).DownNum = down_num;\n                    }\n                };\n\n                for (let dis of dis_array) {\n\n                    //更新食物数组  3   6  9\n                    let menu: string[] = LocalMgr.instance.LocalInfor.menu;\n\n                    this.FoodName = [\"fish\", \"chicken\", \"beef\", \"grass\"];\n                    if (menu.length < 4) { this.FoodName = [\"fish\", \"chicken\", \"beef\"]; }\n                    else if (menu.length > 6) { this.FoodName = [\"fish\", \"chicken\", \"beef\", \"egg\", \"grass\"]; }\n\n                    dis.getComponent(SingleFood).DownNum = max_num;\n                    dis.getComponent(SingleFood).UpdateFood(this.FoodName[Math.floor(Math.random() * this.FoodName.length)]);\n                }\n\n                this.FoodArray[hor] = nodis_array.concat(dis_array);\n\n                for (let i = 0; i < this.FoodArray[hor].length; i++) {\n                    this.FoodArray[hor][i].getComponent(SingleFood).IIndex = { hor: hor, ver: i };\n                    this.FoodArray[hor][i].setPosition(new Vec3(-this.ControlSize.width / 2 + (hor + 0.5) * this.DistanceNum, -this.ControlSize.height / 2 + (i + 0.5) * this.DistanceNum, 0))\n                    this.FoodArray[hor][i].getComponent(SingleFood).ChangeLineParent(this.LineLoad, this.FoodArray[hor][i].getPosition());\n                    this.FoodArray[hor][i].getComponent(SingleFood).UpdatePos();\n                }\n\n            }\n\n            this.SurpleNum--;\n            this.UpdateSurple();\n\n            this.BsetStep.string = \"最长连接:\" + Math.max(display_length, LocalMgr.instance.LocalInfor.linenum).toString();\n\n            LocalMgr.instance.UpdateLine(display_length);\n\n        } else {\n            //恢复正常\n            for (let displayfood of this.DispalyFood) {\n                displayfood.getComponent(SingleFood).ImaNormal();\n            }\n        }\n\n        this.DispalyFood = [];\n    }\n\n    /**\n     * 判断下落格子数\n     * @param 食物\n     */\n    public FoodDown(_food: Node) {\n\n    }\n\n    /**\n     * 根据位置返回食物\n     * @param 位置\n     */\n    private ReturnFood(_touchpos: Vec3): Node {\n        let return_node = null;\n\n        for (let i = 0; i < this.FoodArray.length; i++) {\n            for (let j = 0; j < this.FoodArray[i].length; j++) {\n                let food_pos: Vec3 = this.FoodArray[i][j].getPosition();\n\n                //移动到了可以消除得元素\n                if (Tools.CheckPoint(food_pos, _touchpos, 110, 110) && this.DispalyFood.indexOf(this.FoodArray[i][j]) < 0) {\n                    return this.FoodArray[i][j];\n                }\n\n            }\n        };\n\n        return return_node;\n    }\n\n}\n\n\n","import { Color, Canvas, UITransform, instantiate, math, Toggle, TextureCube, _decorator, Component, Button, labelAssembler, game, director, Node, Scene, renderer, CameraComponent, Label, ForwardPipeline, RichText } from 'cc';\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('internal.DebugViewRuntimeControl')\r\nexport class DebugViewRuntimeControl extends Component {\r\n    @property(Node)\r\n    compositeModeToggle: Node | null = null;\r\n    @property(Node)\r\n    singleModeToggle: Node | null = null;\r\n    @property(Node)\r\n    EnableAllCompositeModeButton: Node | null = null;\r\n\t_single: number = 0;\r\n\r\n    private strSingle: string[] = [\r\n        'No Single Debug',\r\n        'Vertex Color',\r\n        'Vertex Normal',\r\n        'Vertex Tangent',\r\n        'World Position',\r\n        'Vertex Mirror',\r\n        'Face Side',\r\n        'UV0',\r\n        'UV1',\r\n        'UV Lightmap',\r\n        'Project Depth',\r\n        'Linear Depth',\r\n\r\n        'Fragment Normal',\r\n        'Fragment Tangent',\r\n        'Fragment Binormal',\r\n        'Base Color',\r\n        'Diffuse Color',\r\n        'Specular Color',\r\n        'Transparency',\r\n        'Metallic',\r\n        'Roughness',\r\n        'Specular Intensity',\r\n        'IOR',\r\n\r\n        'Direct Diffuse',\r\n        'Direct Specular',\r\n        'Direct All',\r\n        'Env Diffuse',\r\n        'Env Specular',\r\n        'Env All',\r\n        'Emissive',\r\n        'Light Map',\r\n        'Shadow',\r\n        'AO',\r\n\r\n        'Fresnel',\r\n        'Direct Transmit Diffuse',\r\n        'Direct Transmit Specular',\r\n        'Env Transmit Diffuse',\r\n        'Env Transmit Specular',\r\n        'Transmit All',\r\n        'Direct Internal Specular',\r\n        'Env Internal Specular',\r\n        'Internal All',\r\n\r\n        'Fog',\r\n    ];\r\n    private strComposite: string[] = [\r\n        'Direct Diffuse',\r\n        'Direct Specular',\r\n        'Env Diffuse',\r\n        'Env Specular',\r\n        'Emissive',\r\n        'Light Map',\r\n        'Shadow',\r\n        'AO',\r\n\r\n        'Normal Map',\r\n        'Fog',\r\n\r\n        'Tone Mapping',\r\n        'Gamma Correction',\r\n\r\n        'Fresnel',\r\n        'Transmit Diffuse',\r\n        'Transmit Specular',\r\n        'Internal Specular',\r\n        'TT',\r\n    ];\r\n    private strMisc: string[] = [\r\n        'CSM Layer Coloration',\r\n        'Lighting With Albedo',\r\n    ];\r\n\r\n    private compositeModeToggleList: Node[] = [];\r\n    private singleModeToggleList: Node[] = [];\r\n    private miscModeToggleList: Node[] = [];\r\n    private textComponentList: RichText[] = [];\r\n    private labelComponentList: Label[] = [];\r\n    private textContentList: string[] = [];\r\n    private hideButtonLabel: Label;\r\n    start() {\r\n        // get canvas resolution\r\n        const canvas = this.node.parent.getComponent(Canvas);\r\n        if (!canvas) {\r\n            console.error('debug-view-runtime-control should be child of Canvas');\r\n            return;\r\n        }\r\n\r\n        const uiTransform = this.node.parent.getComponent(UITransform);\r\n        const halfScreenWidth = uiTransform.width * 0.5;\r\n        const halfScreenHeight = uiTransform.height * 0.5;\r\n\r\n        let x = -halfScreenWidth + halfScreenWidth * 0.1, y = halfScreenHeight - halfScreenHeight * 0.1;\r\n        const width = 200, height = 20;\r\n\r\n        // new nodes\r\n        const miscNode = this.node.getChildByName('MiscMode');\r\n        const buttonNode = instantiate(miscNode);\r\n        buttonNode.parent = this.node;\r\n        buttonNode.name = 'Buttons';\r\n        const titleNode = instantiate(miscNode);\r\n        titleNode.parent = this.node;\r\n        titleNode.name = 'Titles';\r\n\r\n        // title\r\n        for (let i = 0; i < 2; i++) {\r\n            const newLabel = instantiate(this.EnableAllCompositeModeButton.getChildByName('Label'));\r\n            newLabel.setPosition(x + (i > 0 ? 50 + width * 2 : 150), y, 0.0);\r\n            newLabel.setScale(0.75, 0.75, 0.75);\r\n            newLabel.parent = titleNode;\r\n            const labelComponent = newLabel.getComponent(Label);\r\n            labelComponent.string = i ? '----------Composite Mode----------' : '----------Single Mode----------';\r\n            labelComponent.color = Color.WHITE;\r\n            labelComponent.overflow = 0;\r\n            this.labelComponentList[this.labelComponentList.length] = labelComponent;\r\n        }\r\n\r\n        y -= height;\r\n        // single\r\n        let currentRow = 0;\r\n        for (let i = 0; i < this.strSingle.length; i++, currentRow++) {\r\n            if (i === this.strSingle.length >> 1) {\r\n                x += width;\r\n                currentRow = 0;\r\n            }\r\n            const newNode = i ? instantiate(this.singleModeToggle) : this.singleModeToggle;\r\n            newNode.setPosition(x, y - height * currentRow, 0.0);\r\n            newNode.setScale(0.5, 0.5, 0.5);\r\n            newNode.parent = this.singleModeToggle.parent;\r\n\r\n            const textComponent = newNode.getComponentInChildren(RichText);\r\n            textComponent.string = this.strSingle[i];\r\n            this.textComponentList[this.textComponentList.length] = textComponent;\r\n            this.textContentList[this.textContentList.length] = textComponent.string;\r\n\r\n            newNode.on(Toggle.EventType.TOGGLE, this.toggleSingleMode, this);\r\n\r\n            this.singleModeToggleList[i] = newNode;\r\n        }\r\n\r\n        x += width;\r\n        // buttons\r\n        this.EnableAllCompositeModeButton.setPosition(x + 15, y, 0.0);\r\n        this.EnableAllCompositeModeButton.setScale(0.5, 0.5, 0.5);\r\n        this.EnableAllCompositeModeButton.on(Button.EventType.CLICK, this.enableAllCompositeMode, this);\r\n        this.EnableAllCompositeModeButton.parent = buttonNode;\r\n        let labelComponent = this.EnableAllCompositeModeButton.getComponentInChildren(Label);\r\n        this.labelComponentList[this.labelComponentList.length] = labelComponent;\r\n\r\n        const changeColorButton = instantiate(this.EnableAllCompositeModeButton);\r\n        changeColorButton.setPosition(x + 90, y, 0.0);\r\n        changeColorButton.setScale(0.5, 0.5, 0.5);\r\n        changeColorButton.on(Button.EventType.CLICK, this.changeTextColor, this);\r\n        changeColorButton.parent = buttonNode;\r\n        labelComponent = changeColorButton.getComponentInChildren(Label);\r\n        labelComponent.string = 'TextColor';\r\n        this.labelComponentList[this.labelComponentList.length] = labelComponent;\r\n\r\n        const HideButton = instantiate(this.EnableAllCompositeModeButton);\r\n        HideButton.setPosition(x + 200, y, 0.0);\r\n        HideButton.setScale(0.5, 0.5, 0.5);\r\n        HideButton.on(Button.EventType.CLICK, this.hideUI, this);\r\n        HideButton.parent = this.node.parent;\r\n        labelComponent = HideButton.getComponentInChildren(Label);\r\n        labelComponent.string = 'Hide UI';\r\n        this.labelComponentList[this.labelComponentList.length] = labelComponent;\r\n        this.hideButtonLabel = labelComponent;\r\n\r\n        // misc\r\n        y -= 40;\r\n        for (let i = 0; i < this.strMisc.length; i++) {\r\n            const newNode = instantiate(this.compositeModeToggle);\r\n            newNode.setPosition(x, y - height * i, 0.0);\r\n            newNode.setScale(0.5, 0.5, 0.5);\r\n            newNode.parent = miscNode;\r\n\r\n            const textComponent = newNode.getComponentInChildren(RichText);\r\n            textComponent.string = this.strMisc[i];\r\n            this.textComponentList[this.textComponentList.length] = textComponent;\r\n            this.textContentList[this.textContentList.length] = textComponent.string;\r\n\r\n            const toggleComponent = newNode.getComponent(Toggle);\r\n            toggleComponent.isChecked = i ? true : false;\r\n            newNode.on(Toggle.EventType.TOGGLE, i ? this.toggleLightingWithAlbedo : this.toggleCSMColoration, this);\r\n            this.miscModeToggleList[i] = newNode;\r\n        }\r\n\r\n        // composite\r\n        y -= 150;\r\n        for (let i = 0; i < this.strComposite.length; i++) {\r\n            const newNode = i ? instantiate(this.compositeModeToggle) : this.compositeModeToggle;\r\n            newNode.setPosition(x, y - height * i, 0.0);\r\n            newNode.setScale(0.5, 0.5, 0.5);\r\n            newNode.parent = this.compositeModeToggle.parent;\r\n\r\n            const textComponent = newNode.getComponentInChildren(RichText);\r\n            textComponent.string = this.strComposite[i];\r\n            this.textComponentList[this.textComponentList.length] = textComponent;\r\n            this.textContentList[this.textContentList.length] = textComponent.string;\r\n\r\n            newNode.on(Toggle.EventType.TOGGLE, this.toggleCompositeMode, this);\r\n\r\n            this.compositeModeToggleList[i] = newNode;\r\n        }\r\n    }\r\n\r\n    isTextMatched(textUI, textDescription) : boolean {\r\n        let tempText = new String(textUI);\r\n        const findIndex = tempText.search('>');\r\n        if (findIndex === -1) {\r\n            return textUI === textDescription;\r\n        } else {\r\n            tempText = tempText.substr(findIndex + 1);\r\n            tempText = tempText.substr(0, tempText.search('<'));\r\n            return tempText === textDescription;\r\n        }\r\n    }\r\n    toggleSingleMode(toggle: Toggle) {\r\n        const debugView = director.root!.debugView;\r\n        const textComponent = toggle.getComponentInChildren(RichText);\r\n        for (let i = 0; i < this.strSingle.length; i++) {\r\n            if (this.isTextMatched(textComponent.string, this.strSingle[i])) {\r\n                debugView.singleMode = i;\r\n            }\r\n        }\r\n    }\r\n    toggleCompositeMode(toggle: Toggle) {\r\n        const debugView = director.root!.debugView;\r\n        const textComponent = toggle.getComponentInChildren(RichText);\r\n        for (let i = 0; i < this.strComposite.length; i++) {\r\n            if (this.isTextMatched(textComponent.string, this.strComposite[i])) {\r\n                debugView.enableCompositeMode(i, toggle.isChecked);\r\n            }\r\n        }\r\n    }\r\n    toggleLightingWithAlbedo(toggle: Toggle) {\r\n        const debugView = director.root!.debugView;\r\n        debugView.lightingWithAlbedo = toggle.isChecked;\r\n    }\r\n    toggleCSMColoration(toggle: Toggle) {\r\n        const debugView = director.root!.debugView;\r\n        debugView.csmLayerColoration = toggle.isChecked;\r\n    }\r\n    enableAllCompositeMode(button: Button) {\r\n        const debugView = director.root!.debugView;\r\n        debugView.enableAllCompositeMode(true);\r\n        for (let i = 0; i < this.compositeModeToggleList.length; i++) {\r\n            const toggleComponent = this.compositeModeToggleList[i].getComponent(Toggle);\r\n            toggleComponent.isChecked = true;\r\n        }\r\n\r\n        let toggleComponent = this.miscModeToggleList[0].getComponent(Toggle);\r\n        toggleComponent.isChecked = false;\r\n        debugView.csmLayerColoration = false;\r\n        toggleComponent = this.miscModeToggleList[1].getComponent(Toggle);\r\n        toggleComponent.isChecked = true;\r\n        debugView.lightingWithAlbedo = true;\r\n    }\r\n    hideUI(button: Button) {\r\n        const titleNode = this.node.getChildByName('Titles');\r\n        const activeValue = !titleNode.active;\r\n        this.singleModeToggleList[0].parent.active = activeValue;\r\n        this.miscModeToggleList[0].parent.active = activeValue;\r\n        this.compositeModeToggleList[0].parent.active = activeValue;\r\n        this.EnableAllCompositeModeButton.parent.active = activeValue;\r\n        titleNode.active = activeValue;\r\n        this.hideButtonLabel.string = activeValue ? 'Hide UI' : 'Show UI';\r\n    }\r\n\r\n    private _currentColorIndex = 0;\r\n    private strColor: string[] = [\r\n        '<color=#ffffff>',\r\n        '<color=#000000>',\r\n        '<color=#ff0000>',\r\n        '<color=#00ff00>',\r\n        '<color=#0000ff>',\r\n    ];\r\n    private color: Color[] = [\r\n        Color.WHITE,\r\n        Color.BLACK,\r\n        Color.RED,\r\n        Color.GREEN,\r\n        Color.BLUE,\r\n    ];\r\n    changeTextColor(button: Button) {\r\n        this._currentColorIndex++;\r\n        if (this._currentColorIndex >= this.strColor.length) {\r\n            this._currentColorIndex = 0;\r\n        }\r\n        for (let i = 0; i < this.textComponentList.length; i++) {\r\n            this.textComponentList[i].string = this.strColor[this._currentColorIndex] + this.textContentList[i] + '</color>';\r\n        }\r\n        for (let i = 0; i < this.labelComponentList.length; i++) {\r\n            this.labelComponentList[i].color = this.color[this._currentColorIndex];\r\n        }\r\n    }\r\n\r\n    onLoad() {\r\n    }\r\n    update(deltaTime: number) {\r\n    }\r\n}\r\n","import { _decorator, Component, Label, Node, Vec3 } from 'cc';\nimport { AudioMgr } from '../../Mgr/AudioMgr';\nimport { LocalMgr } from '../../Mgr/LocalMgr';\nimport { MessageCenter } from '../../Message/MessageCenter';\nimport { MessageType } from '../../Message/Message';\nimport { AdLoad } from '../../Global';\nimport { TweenTool } from '../../Tools/TweenTools';\nimport { LoginScene } from '../LoginScene/LoginScene';\nconst { ccclass, property } = _decorator;\n\n@ccclass('DownButton')\n/**\n * 下层按钮\n */\nexport class DownButton extends Component {\n\n    //游戏层\n    @property(Node)\n    private LoginScene: Node | null = null;\n\n    //建筑层\n    @property(Node)\n    private BuildScene: Node | null = null;\n\n    //消除层\n    @property(Node)\n    private ClearScene: Node | null = null;\n\n    //当前得场景\n    private NowScene: Node | null = null;\n\n    //公寓按钮\n    @property(Node)\n    private HomeButton: Node | null = null;\n\n    //猫咪按钮\n    @property(Node)\n    private CatButton: Node | null = null;\n\n    //购物按钮\n    @property(Node)\n    private BuyButton: Node | null = null;\n\n\n    //爱心体力值\n    @property(Label)\n    private HeartText: Label | null = null;\n\n    //猫咪值\n    @property(Label)\n    private CatText: Label | null = null;\n\n    protected start(): void {\n        this.NowScene = this.LoginScene;\n        this.UpdateScale();\n\n        this.UpdateHeart();\n        this.UpdateCoin();\n    }\n\n    /**\n     * 点击公寓按钮\n     */\n    public HomeClick() {\n        AudioMgr.instance.PlayButton();\n\n        if (this.NowScene == this.BuildScene) return;\n\n        let nowscene: Node = this.NowScene;\n        TweenTool.SceneMove(nowscene, new Vec3(0, 0, 0), new Vec3(750, 0, 0), () => {\n            nowscene.active = false;\n        })\n\n        MessageCenter.SendMessage(\n            MessageType.Type_Build,\n            MessageType.Build_Init,\n            null\n        )\n        this.NowScene = this.BuildScene;\n        this.UpdateScale();\n    }\n\n    /**\n     * 点击喵喵餐厅\n     */\n    public CatClick() {\n        AudioMgr.instance.PlayButton();\n\n        if (this.NowScene == this.LoginScene) return;\n\n        let move_pos: Vec3 = new Vec3(750, 0, 0);\n        if (this.NowScene === this.BuildScene) move_pos = new Vec3(-750, 0, 0)\n        let nowscene: Node = this.NowScene;\n        TweenTool.SceneMove(nowscene, new Vec3(0, 0, 0), move_pos, () => {\n            nowscene.active = false;\n        });\n\n        MessageCenter.SendMessage(\n            MessageType.Type_Login,\n            MessageType.Login_Init,\n            this.NowScene === this.BuildScene ? 750 : -750\n        )\n        this.NowScene = this.LoginScene;\n        this.UpdateScale();\n    }\n\n    /**\n     * 点击食材按钮\n     */\n    public BuyClick() {\n        AudioMgr.instance.PlayButton();\n\n        if (this.NowScene == this.ClearScene) return;\n\n        if (LocalMgr.instance.LocalInfor.heartnum == 0) {\n            MessageCenter.SendMessage(\n                MessageType.Type_Top,\n                MessageType.Top_ShowAd,\n                {\n                    loadname: AdLoad.Heart,\n                    cb: () => {\n                        LocalMgr.instance.AddHeart(1);\n                        this.UpdateHeart();\n                        MessageCenter.SendMessage(\n                            MessageType.Type_Top,\n                            MessageType.Top_ShowPopbox,\n                            \"喵喵送你1点体力值\"\n                        )\n                    }\n                }\n            )\n            return;\n        }\n\n        let nowscene: Node = this.NowScene;\n        TweenTool.SceneMove(nowscene, new Vec3(0, 0, 0), new Vec3(-750, 0, 0), () => {\n            nowscene.active = false;\n        })\n        MessageCenter.SendMessage(\n            MessageType.Type_Clear,\n            MessageType.Clear_Init,\n            null\n        );\n\n        LocalMgr.instance.AddHeart(-1);\n        this.NowScene = this.ClearScene;\n        this.UpdateScale();\n\n        this.UpdateHeart();\n    }\n\n    /**\n     * 根据场景名称修改缩放\n     */\n    private UpdateScale() {\n\n        let buy_scale: number = this.NowScene == this.ClearScene ? 1.5 : 1;\n        let cat_scale: number = this.NowScene == this.LoginScene ? 1.5 : 1;\n        let home_scale: number = this.NowScene == this.BuildScene ? 1.5 : 1;\n\n        this.BuyButton.setScale(buy_scale, buy_scale, buy_scale);\n        this.CatButton.setScale(cat_scale, cat_scale, cat_scale);\n        this.HomeButton.setScale(home_scale, home_scale, home_scale);\n    }\n\n\n\n    /**\n     * 更新爱心体力\n     */\n    public UpdateHeart() {\n        this.HeartText.string = LocalMgr.instance.LocalInfor.heartnum.toString();\n    }\n\n    /**\n     * 更新金币数量\n     */\n    public UpdateCoin() {\n        this.CatText.string = LocalMgr.instance.LocalInfor.coinnum.toString();\n    }\n\n}\n\n\n","import { _decorator, Component, Node } from 'cc';\nconst { ccclass, property } = _decorator;\n\n@ccclass('DownButton')\n/**\n * 最下面主要按钮\n */\nexport class DownButton extends Component {\n    start() {\n\n    }\n\n    update(deltaTime: number) {\n\n    }\n}\n\n\n","import { _decorator, Animation, Component, Label, Node, Sprite } from 'cc';\nimport { Global } from '../../Global';\nimport { ResMgr } from '../../Mgr/ResMgr';\nimport { Cat } from './Cat';\nimport { CatLoad } from './CatLoad';\nimport { MessageType } from '../../Message/Message';\nimport { MessageCenter } from '../../Message/MessageCenter';\nimport { LocalMgr } from '../../Mgr/LocalMgr';\nimport { LoginScene } from './LoginScene';\nimport { AudioMgr } from '../../Mgr/AudioMgr';\nconst { ccclass, property } = _decorator;\n\n@ccclass('DrawLoad')\n/**\n * 抽奖层\n */\nexport class DrawLoad extends Component {\n\n    //球\n    @property(Animation)\n    private BallAni: Animation | null = null;\n\n    //杆儿\n    @property(Animation)\n    private GanAni: Animation | null = null;\n\n    //下方食物层\n    @property(Node)\n    private DownLoad: Node | null = null;\n\n    //食品层\n    @property(Node)\n    private FoodLoad: Node | null = null;\n\n    //食物数组\n    private FoodArray: string[] = [null, null, null];\n\n    //猫咪层\n    @property(Node)\n    private CatLoad: Node | null = null;\n\n    //烹饪成品\n    @property(Node)\n    private Cookie: Node | null = null;\n\n\n    /**\n     * 点击抽奖杆\n     */\n    private GanClick() {\n\n        for (let content of this.FoodArray) {//判断是否齐全了\n            if (content == null) {\n                this.SendPop(\"食材不全~\")\n                this.node.getComponent(Animation).play();\n                return;\n            }\n        }\n\n        this.BallAni.play();\n        this.GanAni.play();\n\n        this.FoodArray = this.FoodArray.sort();\n\n        let check_cat: Node = null;\n        for (let i = 0; i < 3; i++) {\n            let cat: Node = this.CatLoad.getChildByName(\"Cat\" + i.toString());\n            let catfood: string[] = cat.getComponent(Cat).FoodArray.sort();\n\n            if (this.FoodArray.toString() == catfood.toString()) check_cat = cat;\n        }\n\n        //是否加分\n        let is_score: boolean = false;\n\n        //猫咪加一\n        if (check_cat != null) {\n            AudioMgr.instance.PlaySuccess();\n            //更新猫咪数量\n            LocalMgr.instance.AddCat(check_cat.getComponent(Cat).CatBreed)\n            //更新金币数量\n            let coin_num: number = 1 + Math.floor(Math.random() * 4);\n            this.CatLoad.getComponent(CatLoad).AddCoin(coin_num, check_cat.getPosition().x);\n            LocalMgr.instance.AddCoin(coin_num);\n            this.node.parent.getComponent(LoginScene).UpdateCoin();\n\n        } else {\n            AudioMgr.instance.PlayFail();\n            //更新失败次数\n            LocalMgr.instance.AddFail(1);\n            check_cat = this.CatLoad.getChildByName(\"Cat0\");\n            this.SendPop(\"烹饪失败~快去看看食谱吧~\")\n            this.node.getComponent(Animation).play();\n        }\n\n        this.CatLoad.getComponent(CatLoad).CatUpdateFood(check_cat);\n        this.Cookie.getComponent(Sprite).spriteFrame = ResMgr.instance.SpriteFrames[check_cat.getComponent(Cat).MenuName];\n        this.Cookie.getComponent(Animation).play();\n\n        setTimeout(() => {\n            this.InitCookie();\n        }, 1000);\n\n\n        //恢复食材数量\n        for (let _index in this.FoodArray) {\n            let box: Node = this.DownLoad.getChildByName(\"greenbox\" + _index);\n            let food: Node = box.getChildByName(\"egg\");\n            food.getComponent(Sprite).spriteFrame = ResMgr.instance.SpriteFrames[\"jiahao\"];\n            this.FoodArray[_index] = null;\n        }\n\n        LocalMgr.instance.UpdateData();\n    }\n\n    /**\n    * 更新信息\n    * @param 食物名称\n    */\n    public UpdateBox(_food: string) {\n        let box: Node = this.FoodLoad.getChildByName(_food + \"Box\");\n        box.getChildByName(\"Num\").getComponent(Label).string = LocalMgr.instance.LocalInfor.food[_food];\n        box.getChildByName(\"Point\").active = LocalMgr.instance.LocalInfor.food[_food] != 0;\n    }\n\n    /**\n     * 添加食材\n     * @param 食物名称\n     */\n    public AddFood(_e, _food: string) {\n        AudioMgr.instance.PlayButton();\n        if (LocalMgr.instance.LocalInfor.food[_food] == 0) {//提示没有食材\n            this.SendPop(\"食材不足~快去采集食材吧~\")\n            return;\n        }\n\n        let changeindex: number = -1;\n\n        //如果显示全了\n        for (let i = 0; i < this.FoodArray.length; i++) {\n\n            let box: Node = this.DownLoad.getChildByName(\"greenbox\" + i.toString());\n            let food: Node = box.getChildByName(\"egg\");\n\n            if (food.getComponent(Sprite).spriteFrame == ResMgr.instance.SpriteFrames[\"jiahao\"] && changeindex == -1) {\n                food.getComponent(Sprite).spriteFrame = ResMgr.instance.SpriteFrames[_food];\n                food.getComponent(Animation).play();\n                changeindex = i;\n            }\n        }\n\n        if (changeindex == -1) {\n            Global.IsDebug && console.log(\"提示不能加食物了\");\n            return;\n        }\n\n        this.FoodArray[changeindex] = _food;\n        LocalMgr.instance.AddFood(_food, -1)\n        this.UpdateBox(_food);\n\n    }\n\n    /**\n     * 点击绿框\n     */\n    private GreenClick(_e, _clicknum: string) {\n        AudioMgr.instance.PlayButton();\n        let box: Node = this.DownLoad.getChildByName(\"greenbox\" + _clicknum);\n        let food: Node = box.getChildByName(\"egg\");\n\n        if (food.getComponent(Sprite).spriteFrame != ResMgr.instance.SpriteFrames[\"jiahao\"]) {\n            food.getComponent(Sprite).spriteFrame = ResMgr.instance.SpriteFrames[\"jiahao\"];\n            LocalMgr.instance.LocalInfor.food[this.FoodArray[Number(_clicknum)]]++;\n            this.UpdateBox(this.FoodArray[Number(_clicknum)]);\n            this.FoodArray[Number(_clicknum)] = null;\n        }\n    }\n\n    /**\n     * 发送提示内容\n     * @param 提示内容\n     */\n    private SendPop(_content: string) {\n        MessageCenter.SendMessage(\n            MessageType.Type_Top,\n            MessageType.Top_ShowPopbox,\n            _content\n        );\n    }\n\n    /**\n     * 更新烹饪结果\n     */\n    public InitCookie() {\n        this.Cookie.getComponent(Sprite).spriteFrame = ResMgr.instance.SpriteFrames[\"jinzhi\"];\n    }\n\n}\n\n\n","declare var tt;\nimport { _decorator, Component, Node, RealInterpolationMode } from 'cc';\nimport { Global } from '../Global';\nconst { ccclass, property } = _decorator;\n\n@ccclass('DyTools')\n/**\n * 抖音工具整理\n * 本地缓存\n * 分享\n * 广告\n */\nexport class DyTools {\n\n    /**\n     * 设置本地缓存\n     * @param key值\n     * @param value值   \n     */\n    static SetStorage(_key: string, _value: string) {\n        tt.setStorageSync(_key, _value)\n    }\n\n    /**\n     * 获取本地缓存\n     * @param key值\n     */\n    static GetStorage(_key: string) {\n        return tt.getStorageSync(_key) == \"\" ? null : JSON.parse(tt.getStorageSync(_key))\n    }\n\n    /**\n     * 默认显示分享好友\n     */\n    static CanShareFriend() {\n        if (!Global.IsDy) return;\n        tt.showShareMenu({\n            success(res) {\n                console.log(\"已成功显示转发按钮\");\n            },\n            fail(err) {\n                console.log(\"showShareMenu 调用失败\", err.errMsg);\n            },\n            complete(res) {\n                console.log(\"showShareMenu 调用完成\");\n            },\n        });\n    }\n\n}\n\n\n","import { _decorator, Component, Node, Prefab, SpriteFrame, Vec3, AudioClip } from 'cc';\nconst { ccclass, property } = _decorator;\n\n/**\n * 资源目录\n */\nexport const AssetList = {\n    Prefabs: { path: \"Prefabs\", type: Prefab },\n    SpriteFrame: { path: \"Sprite\", type: SpriteFrame },\n    Sound: { path: \"\", type: AudioClip }\n}\n\n/**\n * 广告层\n */\nexport const AdLoad = {\n    Heart: \"HeartLoad\",\n    Step: \"StepLoad\"\n}\n\n@ccclass('Global')\nexport class Global {\n\n    static SceneString: boolean = false;\n\n    //是否在微信环境下\n    static IsWx: boolean = false;\n    static IsDy: boolean = false;\n\n    //资源包\n    static ResName: string = \"GameRes\";\n\n    //是否是debug模式\n    static IsDebug: boolean = false;\n\n    //加载进度\n    static LoadProgress: number = 0;\n\n    //游戏中食物的缩放尺寸\n    static FoodScale: Vec3 = new Vec3(0.9, 0.9, 0.9);\n\n    //是否改变了猫\n    static ChangeCat: boolean = true;\n    static ChangeMenu: boolean = true;\n\n    //成就(猫咪数量、菜单数量)\n    static Achieve = {\n        Cat: [\n            { catnum: 10, content: \"\" },\n            { catnum: 100, content: \"\" },\n            { catnum: 1000, content: \"\" },\n        ],\n        Menu: [\n\n        ],\n        Food: [\n\n        ],\n        Game: [\n\n        ]\n    }\n\n    //食谱\n    static Menu = {\n        BeefLine: [\"beef\", \"beef\", \"beef\"],\n        ChickenLine: [\"chicken\", \"chicken\", \"chicken\"],\n        FishLine: [\"fish\", \"fish\", \"fish\"],\n        BeefCan: [\"beef\", \"beef\", \"grass\"],\n        ChickenCan: [\"chicken\", \"chicken\", \"grass\"],\n        FishCan: [\"fish\", \"fish\", \"grass\"],\n        Beefcookie: [\"beef\", \"beef\", \"egg\"],\n        Chickencookie: [\"chicken\", \"chicken\", \"egg\"],\n        Fishcookie: [\"fish\", \"fish\", \"egg\"]\n    }\n\n    //猫咪种类\n    static CatBreed = {\n        Dachen: { sprite: \"dachen\", name: \"小白\", dec: \"日漫里走出来得小可爱\" },\n        Duola: { sprite: \"duola\", name: \"哆啦\", dec: \"总会向你伸出圆柱之手得\" },\n        Zuoda: { sprite: \"zuoda\", name: \"小黑\", dec: \"独立稳重\" },\n        Huibai: { sprite: \"huibai\", name: \"呼噜\", dec: \"温柔得小天使\" },\n        Huihuang: { sprite: \"huihuang\", name: \"招财\", dec: \"嘛内~嘛内~\" },\n        Nainiu: { sprite: \"nainiu\", name: \"奶牛\", dec: \"敏捷好奇,猫中二哈\" },\n        Xiaoju: { sprite: \"xiaoju\", name: \"小橘\", dec: \"橘食闻名~喵~\" },\n        Daju: { sprite: \"daju\", name: \"大橘\", dec: \"大橘为重~喵~\" },\n        Xianluo: { sprite: \"xianluo\", name: \"暹罗\", dec: \"外貌优美、体态婀娜\" },\n    }\n\n}\n\n\n","declare var wx;\ndeclare var tt;\nimport { _decorator, Component, Label, Node, UITransform, Vec3 } from 'cc';\nimport { AssetList, Global } from '../Global';\nimport { ResMgr } from '../Mgr/ResMgr';\nimport { Main } from '../Main';\nimport { LocalMgr } from '../Mgr/LocalMgr';\nimport { AdMgr } from '../Mgr/AdMgr';\nimport { AudioMgr } from '../Mgr/AudioMgr';\nimport { Tools } from '../Tools/Tools';\nimport { WxTools } from '../Tools/WxTools';\nimport { DyTools } from '../Tools/DyTools';\nconst { ccclass, property } = _decorator;\n\n@ccclass('Loading')\n/**\n * 加载界面\n */\nexport class Loading extends Component {\n\n    //进度条\n    @property(Node)\n    private ProgressBar: Node | null = null;\n\n    //进度条宽度\n    private BarWidth: number = 0;\n\n    //进度文字\n    @property(Label)\n    private Text: Label | null = null;\n\n    start() {\n\n        Global.IsWx = (typeof wx != \"undefined\");\n        Global.IsDy = (typeof tt != \"undefined\");\n        Global.IsDebug && console.log(\"是否再微信环境中\", Global.IsWx, Global.IsDy);\n\n        AdMgr.instance.Init();\n        WxTools.ShareMenu();\n        WxTools.SetShare()\n        DyTools.CanShareFriend();\n\n        this.BarWidth = this.ProgressBar.getComponent(UITransform).width;\n        this.ProgressBar.setPosition(new Vec3(-this.BarWidth, 0, 0))\n\n        this.GetLocalStroage();\n        ResMgr.instance.LoadInit();\n        // AdMgr.instance.Init();\n        this.LoadRes();\n    }\n\n    /**\n     * 加载资源\n     */\n    private async LoadRes() {\n        await ResMgr.instance.LoadBundle(Global.ResName, 0.1);\n        await ResMgr.instance.LoadRes(Global.ResName, AssetList.SpriteFrame, 0.7);\n        await ResMgr.instance.LoadRes(Global.ResName, AssetList.Sound, 0.1);\n        await ResMgr.instance.LoadRes(Global.ResName, AssetList.Prefabs, 0.1);\n        AudioMgr.instance.Init();\n        AudioMgr.instance.PlayBgSound(\"bg\");\n        //进入游戏场景\n        Main.instance.UpdateScene(\"GameScene\")\n\n    }\n\n    /**\n     * 获取本地相关数据\n     */\n    private GetLocalStroage() {\n\n        LocalMgr.instance.LocalInfor = LocalMgr.instance.GetData();\n\n        if (!LocalMgr.instance.LocalInfor) {\n            LocalMgr.instance.LocalInfor = LocalMgr.instance.AllInfor;\n            LocalMgr.instance.LocalInfor.gamestart = new Date().getTime();\n        } else {\n            let is_sameday: boolean = Tools.checkSameDay(new Date(), new Date(LocalMgr.instance.LocalInfor.gamestart));\n            let add_heart: number = 3;\n            if (!is_sameday) {\n                LocalMgr.instance.LocalInfor.gamestart = new Date().getTime();\n                LocalMgr.instance.AddHeart(add_heart);\n            }\n        }\n        LocalMgr.instance.UpdateData();\n    }\n\n    update(deltaTime: number) {\n        this.ProgressBar.setPosition(new Vec3(-this.BarWidth + this.BarWidth * Global.LoadProgress, 0, 0))\n        this.Text.string = Math.floor(Global.LoadProgress * 100).toString() + \"%\";\n        // this.Text.string = Math.floor(Global.LoadProgress * 100).toString();\n    }\n\n\n    protected onDestroy(): void {\n\n    }\n}\n\n\n","import { _decorator, Component, Node } from 'cc';\nimport { Global } from '../Global';\nimport { WxTools } from '../Tools/WxTools';\nimport { MessageCenter } from '../Message/MessageCenter';\nimport { MessageType } from '../Message/Message';\nconst { ccclass, property } = _decorator;\n\n@ccclass('LocalMgr')\n/**\n * 本地缓存数据管理\n */\nexport class LocalMgr extends Component {\n    //\n    private static _instance: LocalMgr = null;\n    //\n    public static get instance() {\n        if (!this._instance) {\n            this._instance = new LocalMgr();\n        }\n        return this._instance;\n    }\n\n    //本地缓存Key\n    private LocalKey: string = \"LocalKey\";\n\n    //个人信息\n    public SelfInfor = {};\n\n    //本地保存信息\n    public LocalInfor: {\n        gamestart: number,\n        heartnum: number,\n        menu: string[],\n        cat: string[],\n        food: {},\n        carecat: {\n            Dachen: 0,\n            Duola: 0,\n            Zuoda: 0,\n            Huibai: 0,\n            Huihuang: 0,\n            Nainiu: 0,\n            Xiaoju: 0,\n            Daju: 0,\n            Xianluo: 0,\n        },\n        coinnum: number,\n        failnum: number,\n        toyinfor: { CatPic: string, CatHome: string, CatBall: string, CatBowl: string, CatWallShi: string }[],\n        linenum: number,\n        stepnum: number\n    }\n\n    //初始数据\n    public AllInfor: {\n        gamestart: number,\n        heartnum: number,\n        menu: string[],\n        cat: string[],\n        food: {\n\n        },\n        carecat: {\n            Dachen: 0,\n            Duola: 0,\n            Zuoda: 0,\n            Huibai: 0,\n            Huihuang: 0,\n            Nainiu: 0,\n            Xiaoju: 0,\n            Daju: 0,\n            Xianluo: 0,\n        },\n        coinnum: number,\n        failnum: number,\n        toyinfor: { CatPic: string, CatHome: string, CatBall: string, CatBowl: string, CatWallShi: string }[],\n        linenum: number,\n        stepnum: number\n    } = {\n            gamestart: 0,\n            heartnum: 3,\n            menu: [\"FishLine\"],\n            cat: [\"Dachen\",],\n            food: {\n                beef: 0,\n                chicken: 0,\n                grass: 0,\n                fish: 3,\n                egg: 0\n            },\n            carecat: {\n                Dachen: 0,\n                Duola: 0,\n                Zuoda: 0,\n                Huibai: 0,\n                Huihuang: 0,\n                Nainiu: 0,\n                Xiaoju: 0,\n                Daju: 0,\n                Xianluo: 0,\n            },\n            coinnum: 0,\n            failnum: 0,\n            toyinfor: [\n                { CatPic: \"\", CatHome: \"\", CatBall: \"\", CatBowl: \"\", CatWallShi: \"\" }\n            ],\n            linenum: 0,\n            stepnum: 10\n        }\n\n\n    /**\n     * 更新数据\n     */\n    public UpdateData() {\n        if (Global.IsWx) {\n            WxTools.SetStorage(this.LocalKey, JSON.stringify(this.LocalInfor));\n            return;\n        }\n\n        localStorage.setItem(this.LocalKey, JSON.stringify(this.LocalInfor))\n\n    }\n\n    /**\n     * 获取数据\n     */\n    public GetData() {\n        if (Global.IsWx) {\n            return WxTools.GetStorage(this.LocalKey)\n        };\n        return JSON.parse(localStorage.getItem(this.LocalKey));\n    }\n\n    private First: string = \"first\";\n\n    /**\n     * 获取首次登录\n     */\n    public GetFirst(_scene: string) {\n        if (Global.IsWx) {\n            return WxTools.GetStorage(_scene + this.First)\n        };\n        return JSON.parse(localStorage.getItem(_scene + this.First));\n    }\n\n    /**\n     * 更新首次登录\n     */\n    public UpdateFirst(_scene: string) {\n        if (Global.IsWx) {\n            WxTools.SetStorage(_scene + this.First, \"true\");\n            return;\n        }\n\n        localStorage.setItem(_scene + this.First, \"true\")\n    }\n\n    /**\n     * 体力值更新\n     * @param 体力值\n     */\n    public AddHeart(_heartnum: number) {\n        this.LocalInfor.heartnum += _heartnum;\n        this.UpdateData();\n    }\n\n    /**\n     * 金币数量更新\n     */\n    public AddCoin(_coinnum: number) {\n        this.LocalInfor.coinnum += _coinnum;\n        this.UpdateData();\n    }\n\n    /**\n     * 做菜失败次数\n     */\n    public AddFail(_failnum: number) {\n        this.LocalInfor.failnum += _failnum;\n        this.UpdateData();\n    }\n\n\n    /**\n     * 增加食物\n     * @param 食物名称\n     * @param 食物数量\n     */\n    public AddFood(_name: string, _addnum: number) {\n        this.LocalInfor.food[_name] += _addnum;\n        this.UpdateData();\n    }\n\n    //猫咪数量等级\n    private CatLevel: number[] = [0, 10, 50, 100, 200, 300, 400, 500, 600]\n    // private CatLevel: number[] = [0, 1, 2, 3, 4, 5, 6, 7, 8]\n    private CatBreed: string[] = [\"Dachen\", \"Duola\", \"Zuoda\", \"Huibai\", \"Huihuang\", \"Nainiu\", \"Xiaoju\", \"Daju\", \"Xianluo\"];\n\n    //菜谱等级\n    private MenuLevel: number[] = [0, 1, 11, 31, 61, 101, 151, 211, 181]\n    // private MenuLevel: number[] = [0, 1, 2, 3, 4, 5, 6, 7, 8]\n    private MenuBreed: string[] = [\"FishLine\", \"BeefLine\", \"ChickenLine\", \"FishCan\", \"BeefCan\", \"ChickenCan\", \"Fishcookie\", \"Beefcookie\", \"Chickencookie\"];\n\n    /**\n     * 添加猫咪数量\n     * @param 猫咪种类\n     * @param 猫咪数量\n     */\n    public AddCat(_breed: string, _catnum: number = 1) {\n        this.LocalInfor.carecat[_breed]++;\n        this.UpdateData();\n\n        let cat_num: number = 0;\n\n        for (let key in this.LocalInfor.carecat) {\n            cat_num += this.LocalInfor.carecat[key];\n        };\n\n        Global.IsDebug && console.log(\"一共有多少只猫咪\", cat_num)\n\n        let new_cat: { _iscat: boolean, _sprite: string }[] = [];\n\n        //判断新猫咪\n        for (let i = 0; i < this.CatLevel.length; i++) {\n            if (cat_num >= this.CatLevel[i] && this.LocalInfor.cat.indexOf(this.CatBreed[i]) < 0) {\n                new_cat.push(\n                    { _iscat: true, _sprite: this.CatBreed[i] }\n                );\n                this.AddCatBreed(this.CatBreed[i])\n            }\n        };\n\n\n        //判断菜品\n        for (let i = 0; i < this.MenuLevel.length; i++) {\n            if (cat_num >= this.MenuLevel[i] && this.LocalInfor.menu.indexOf(this.MenuBreed[i]) < 0) {\n                new_cat.push(\n                    { _iscat: false, _sprite: this.MenuBreed[i] }\n                );\n                this.AddMenu(this.MenuBreed[i])\n            }\n        };\n\n        if (new_cat.length > 0) {\n            MessageCenter.SendMessage(\n                MessageType.Type_Top,\n                MessageType.Top_ShowGet,\n                new_cat\n            )\n        }\n\n        Global.IsDebug && console.log(\"获取新的东西\", new_cat)\n\n\n    }\n\n    /**\n     * 添加获取食谱\n     */\n    public AddMenu(_menuname: string) {\n        this.LocalInfor.menu.push(_menuname);\n        this.UpdateData();\n    }\n\n    /**\n     * 更新猫咪种类\n     */\n    public AddCatBreed(_breed: string) {\n        this.LocalInfor.cat.push(_breed);\n        this.UpdateData();\n    }\n\n    /**\n     * 增加玩具信息\n     * @param 玩具信息\n     */\n    public AddBuild() {\n        this.LocalInfor.toyinfor.push({ CatPic: \"\", CatHome: \"\", CatBall: \"\", CatBowl: \"\", CatWallShi: \"\" });\n        this.UpdateData();\n    }\n\n    /**\n     * 添加单个玩具信息\n     * @param 玩具索引\n     * @param 玩具信息\n     */\n    public AddToy(_index: number, _content: { CatPic: string, CatHome: string, CatBall: string, CatBowl: string, CatWallShi: string }) {\n        this.LocalInfor.toyinfor[_index] = _content;\n        this.UpdateData();\n    }\n\n    /**\n     * 更新连线数\n     */\n    public UpdateLine(_linenum: number) {\n        this.LocalInfor.linenum = Math.max(_linenum, this.LocalInfor.linenum);\n        this.UpdateData();\n    }\n\n    /**\n     * 更新最大步数\n     */\n    public AddStep() {\n        this.LocalInfor.stepnum += 3;\n        this.UpdateData();\n    }\n\n}\n\n\n","import { _decorator, Component, Node } from 'cc';\nimport { BaseManager } from '../BaseManager';\nimport { MessageType } from '../Message';\nconst { ccclass, property } = _decorator;\n\n@ccclass('LoginManager')\nexport class LoginManager extends BaseManager {\n    //单例\n    static _instance: LoginManager;\n\n    onLoad() {\n        LoginManager._instance = this;\n    }\n\n    SetMessageType() {\n        return MessageType.Type_Login;\n    } \n}\n\n\n","import { _decorator, Component, Label, Node, Vec3 } from 'cc';\nimport { BaseLoad } from '../../Message/BaseLoad';\nimport { LoginManager } from '../../Message/Manager/LoginManager';\nimport { Message, MessageType } from '../../Message/Message';\nimport { Global } from '../../Global';\nimport { MessageCenter } from '../../Message/MessageCenter';\nimport { TweenTool } from '../../Tools/TweenTools';\nimport { DrawLoad } from './DrawLoad';\nimport { LocalMgr } from '../../Mgr/LocalMgr';\nimport { DownButton } from '../DownButton/DownButton';\nconst { ccclass, property } = _decorator;\n\n@ccclass('LoginScene')\nexport class LoginScene extends BaseLoad {\n\n    //食品层\n    @property(Node)\n    private DrawLoad: Node | null = null;\n\n    //猫咪层\n    @property(Node)\n    private CatLoad: Node | null = null;\n\n    //猫咪小手层\n    @property(Node)\n    private CatHand: Node | null = null;\n\n    //按钮层\n    @property(Node)\n    private DownButton: Node | null = null;\n\n    protected onLoad(): void {\n        LoginManager._instance.RegisterReceiver(this);\n    }\n\n    /**\n     * 接收消息\n     */\n    ReceiveMessage(_msg: Message): void {\n        Global.IsDebug && console.log(\"LoginScene接收消息\", _msg);\n        switch (_msg.Command) {\n            case MessageType.Login_Init:\n                this.Init(_msg.Content);\n                break;\n        }\n    }\n\n    start() {\n        //更新食品信息\n        for (let key in LocalMgr.instance.LocalInfor.food) {\n            this.DrawLoad.getComponent(DrawLoad).UpdateBox(key);\n        }\n        this.DrawLoad.getComponent(DrawLoad).InitCookie();\n\n        if (!LocalMgr.instance.GetFirst(\"login\")) {\n            MessageCenter.SendMessage(\n                MessageType.Type_Top,\n                MessageType.Top_ShowInstru,\n                \"rule0\"\n            );\n            LocalMgr.instance.UpdateFirst(\"login\");\n        }\n    }\n\n    update(deltaTime: number) {\n\n    }\n\n    /**\n     * 初始化\n     * @param 初始位置\n     */\n    public Init(_initpos: number) {\n        this.node.active = true;\n        TweenTool.SceneMove(this.node, new Vec3(_initpos, 0, 0), new Vec3(0, 0, 0));\n        //更新食品信息\n        for (let key in LocalMgr.instance.LocalInfor.food) {\n            this.DrawLoad.getComponent(DrawLoad).UpdateBox(key);\n        }\n        this.DrawLoad.getComponent(DrawLoad).InitCookie();\n        this.DownButton.getComponent(DownButton).UpdateHeart();\n    }\n\n    public UpdateCoin() {\n        this.DownButton.getComponent(DownButton).UpdateCoin();\n    }\n\n    public UpdateHeart() {\n        this.DownButton.getComponent(DownButton).UpdateHeart();\n    }\n\n}\n\n\n","import { _decorator, Component, instantiate, Node } from 'cc';\nimport { ResMgr } from './Mgr/ResMgr';\nconst { ccclass, property } = _decorator;\n\n@ccclass('Main')\nexport class Main extends Component {\n\n    //单例\n    static instance: Main = null;\n    protected onLoad(): void {\n        Main.instance = this;\n    }\n\n    start() {\n\n    }\n\n    /**\n     * 更新场景\n     * @param 场景名称\n     */\n    public UpdateScene(_scenename: string) {\n        //销毁场景内得所有内容\n        for (let i = 0; i < this.node.children.length; i++) {\n            this.node.children[i].destroy();\n        }\n        this.node.addChild(instantiate(ResMgr.instance.Prefabs[_scenename]))\n    }\n\n}\n\n\n","import { _decorator, Component, Node } from 'cc';\nconst { ccclass, property } = _decorator;\n\n@ccclass('Message')\n/**\n * 消息类型\n */\nexport class Message {\n    //类型\n    public Type: number;\n\n    //命令\n    public Command: number;\n\n    //内容\n    public Content: any;\n\n    constructor(_type: number, _command: number, _content: any) {\n        this.Type = _type;\n        this.Command = _command;\n        this.Content = _content;\n    }\n}\n\n/**\n *消息定义\n */\nexport const MessageType = {\n    Type_Login: 1,\n    Type_Clear: 2,\n    Type_Top: 3,\n    Type_Build: 4,\n\n    //等待层接收消息\n    Login_Init: 100,//\n\n    //消除层消息\n    Clear_Init: 200,//初始化\n\n    //建筑层接收消息\n    Build_Init: 400,//初始化\n    Build_Buy: 401,//购买玩具\n    Build_AddBuild: 402,//添加道具\n\n    //顶部层消息\n    Top_HideAll: 300,//隐藏所有\n    Top_ShowMenu: 301,//显示菜单\n    Top_ShowInstru: 302,//显示介绍\n    Top_ShowCat: 303,//显示猫咪图鉴\n    Top_ShowPopbox: 304,//显示提示文字\n    Top_ShowToy: 305,//显示猫咪玩具层\n    Top_ShowGet: 306,//显示获取\n    Top_AddCat: 307,//添加猫咪\n    Top_AddMenu: 308,//添加菜单\n    Top_ShowAd: 309,//显示广告层\n    Top_ShowGift: 310,\n}\n\n\n","import { _decorator, Component, Node } from 'cc';\nimport { BaseManager } from './BaseManager';\nimport { Message } from './Message';\nimport { Global } from '../Global';\nconst { ccclass, property } = _decorator;\n\n@ccclass('MessageCenter')\nexport class MessageCenter extends Component {\n    //管理类列表\n    static Managers: BaseManager[] = [];\n\n    /**\n      * 发送消息\n      * @param 类型\n      * @param 命令\n      * @param 内容\n      */\n    static SendMessage(_type: number, _command: number, _content: any) {\n        // return;\n        let msg: Message = new Message(_type, _command, _content);\n        Global.IsDebug && console.log(\"接收\", msg, this.Managers, this.Managers)\n        for (let manager of this.Managers) {\n            manager.ReceiveMessage(msg);\n        };\n    }\n}\n\n\n","/**\n * 拍照\n * NodeShoot.shoot(this.node, true)\n */\nexport default class NodeShoot {\n  protected static canvas: HTMLCanvasElement = null;\n  protected static ctx: CanvasRenderingContext2D = null;\n\n\n  constructor() {\n    NodeShoot.canvas = document.createElement('canvas');\n    NodeShoot.ctx = NodeShoot.canvas.getContext('2d');\n    NodeShoot.ctx.globalAlpha = 1;\n  }\n\n  public static shoot(target: cc.Node, save: boolean = false, mask: boolean = false, cb: Function = null) {\n    this.clearCanvas();\n    const { scale, position } = target;\n    const width = Math.floor(target.width * 1);\n    const height = Math.floor(target.height * 1);\n    const renderTexture = new cc.RenderTexture();\n    renderTexture.packable = false;\n    renderTexture.setPremultiplyAlpha(false);\n    const { cameraNode, camera } = this.getCameraNode(height);\n    cameraNode.setParent(target);\n    cameraNode.width = width;\n    cameraNode.height = height;\n    this.canvas.width = width;\n    this.canvas.height = height;\n\n    // 渲染目标节点到纹理\n    if (mask) renderTexture.initWithSize(width, height, cc.game._renderContext.STENCIL_INDEX8);\n    else renderTexture.initWithSize(width, height);\n    camera.targetTexture = renderTexture;\n\n    // 将摄像机节点添加到目标节点\n    target.setPosition(cc.Vec2.ZERO);\n    camera.render(target);\n    target.setPosition(position);\n\n    // 读取纹理像素数据\n    const data = new Uint8Array(width * height * 4);\n    renderTexture.readPixels(data, 0, 0, width, height);\n    // 处理透明度\n    const halfHeight = Math.ceil(height / 2);\n    const minOpacity = 5;\n    for (let row = 0; row <= halfHeight; row++) {\n      let srow = height - 1 - row;\n      for (let col = 0; col < width; col++) {\n        for (let k = 0; k < 4; k++) {\n          let index1 = col * 4 + row * width * 4 + k; // 从上往下的像素RGBA位置\n          let index2 = col * 4 + srow * width * 4 + k; // 从下往上的像素RGBA位置\n          if (k < 3) { // 当前位置为RGB值\n            if (data[index1 + 3 - k] >= minOpacity) {\n              data[index1] = Math.floor(data[index1] * data[index1 + 3 - k] / 255) + 255 - data[index1 + 3 - k];\n            }\n            if (row !== srow && data[index2 + 3 - k] >= minOpacity) {\n              data[index2] = Math.floor(data[index2] * data[index2 + 3 - k] / 255) + 255 - data[index2 + 3 - k];\n            }\n          } else { // 当前位置为Alpha值\n            data[index1] = data[index1] >= minOpacity ? 255 : 0;\n            if (row !== srow) {\n              data[index2] = data[index2] >= minOpacity ? 255 : 0;\n            }\n          }\n          if (row !== srow) {\n            // 交换上下像素的值\n            let temp = data[index1];\n            data[index1] = data[index2];\n            data[index2] = temp;\n          }\n        }\n      }\n    }\n\n\n    // 将处理后的数据绘制回画布\n    const imageData = this.ctx.createImageData(width, height);\n    imageData.data.set(data);\n    this.ctx.putImageData(imageData, 0, 0);\n\n\n    // 创建精灵帧\n    const texture = new cc.Texture2D();\n    texture.initWithElement(this.canvas);\n    const spriteFrame = new cc.SpriteFrame();\n    spriteFrame.setTexture(texture);\n    if (save) {\n      const base64 = this.getBase64('png');\n      this.saveImageToWebPlatform(base64, 'test.png');\n    }\n    // 销毁摄像机节点和渲染纹理\n    cameraNode.destroy();\n    renderTexture.destroy();\n    // return spriteFrame;\n  }\n\n  /*** 转换为base64 */\n  public static getBase64(type: string = 'png' || 'jpg') {\n    // 将画布转换为Base64\n    const dataURL = this.canvas.toDataURL(`image/${type}`);\n    console.log(dataURL);\n\n    return dataURL;\n  }\n\n  /*** 保存图片到web */\n  public static saveImageToWebPlatform(dataURL: string, fileName: string): void {\n    const link = document.createElement('a');\n    link.href = dataURL;\n    link.download = fileName;\n    link.target = '_blank';\n    link.dispatchEvent(new MouseEvent('click'));\n\n    // var aLink = document.createElement('a');\n    // var blob = base64Img2Blob_web(dataURL);\n\n    // var evt = document.createEvent(\"MouseEvents\");\n    // evt.initEvent(\"click\", false, false);\n    // aLink.download = fileName;\n    // aLink.href = URL.createObjectURL(blob);\n\n    // aLink.dispatchEvent(evt);\n\n    // function base64Img2Blob_web(code) {\n    //   var parts = code.split(';base64,');\n    //   var contentType = parts[0].split(':')[1];\n    //   var raw = window.atob(parts[1]);\n    //   var rawLength = raw.length;\n\n    //   var uInt8Array = new Uint8Array(rawLength);\n\n    //   for (var i = 0; i < rawLength; ++i) {\n    //     uInt8Array[i] = raw.charCodeAt(i);\n    //   }\n\n    //   return new Blob([uInt8Array], { type: contentType });\n    // }\n  }\n\n  /*** 保存图片到微信小游戏 */\n  public static saveImageToWXMiniGamePlatform(dataURL: string): Promise<void> {\n    return new Promise((resolve, reject) => {\n      if (typeof wx !== 'undefined' && wx.saveImageToPhotosAlbum) {\n        wx.saveImageToPhotosAlbum({\n          filePath: dataURL,\n          success: () => {\n            resolve();\n          },\n          fail: (error: any) => {\n            reject(error);\n          },\n        });\n      } else {\n        reject(new Error('saveImageToPhotosAlbum is not supported in the current platform.'));\n      }\n    });\n  }\n\n\n  /*** 清理canvas */\n  public static clearCanvas() {\n    if (!NodeShoot.ctx) return;\n    NodeShoot.ctx.clearRect(0, 0, this.canvas.width, this.canvas.height);\n  }\n\n  /*** 创建摄像机 */\n  public static getCameraNode(height) {\n    // 创建摄像机节点\n    const cameraNode = new cc.Node();\n    const camera = cameraNode.addComponent(cc.Camera);\n    // camera.cullingMask = 0xffffffff;\n    camera.ortho = false;\n    camera.orthoSize = height / 2;\n    camera.alignWithScreen = true;\n    camera.clearFlags |= cc.Camera.ClearFlags.COLOR;\n    camera.backgroundColor = cc.color(1.0, 1.0, 1.0, 0);\n    return { cameraNode: cameraNode, camera: camera };\n  }\n}\n","import { _decorator, Component, Node } from 'cc';\nconst { ccclass, property } = _decorator;\n\n@ccclass('Nouse')\n\n/**\n * \n * 模拟肥鹅健身房。\n * 单机小青蛙。\n * 小游戏重新开发。\n * 个人网站。\n * 喵喵个人形象。\n * \n * 分析情况。\n * \n * 海边照片和策划。\n * \n * \n */\n\nexport class Nouse extends Component {\n    start() {\n\n    }\n\n    update(deltaTime: number) {\n\n    }\n}\n\n\n","import { _decorator, Component, Node } from 'cc';\nconst { ccclass, property } = _decorator;\n\n@ccclass('PopAchieve')\n/**\n * 顶部成就弹窗\n */\nexport class PopAchieve extends Component {\n    start() {\n\n    }\n\n    update(deltaTime: number) {\n\n    }\n\n    /**\n     * \n     */\n}\n\n\n","import { _decorator, Component, Node } from 'cc';\nimport { AdMgr } from '../../Mgr/AdMgr';\nimport { AudioMgr } from '../../Mgr/AudioMgr';\nimport { MessageCenter } from '../../Message/MessageCenter';\nimport { MessageType } from '../../Message/Message';\nconst { ccclass, property } = _decorator;\n\n@ccclass('PopAd')\n/**\n * 广告弹窗\n */\nexport class PopAd extends Component {\n\n    //体力层\n    @property(Node)\n    private HeartLoad: Node | null = null;\n\n    //步数层\n    @property(Node)\n    private StepLoad: Node | null = null;\n\n    //观看广告回调\n    private Cb: Function = null;\n\n    start() {\n\n    }\n\n\n    /**\n     * 更新内容\n     * @param 显示层名称\n     * @param 广告回调\n     */\n    public UpdateContent(_loadname: string, _cb: Function) {\n        this.HeartLoad.active = false;\n        this.StepLoad.active = false;\n\n        this[_loadname].active = true;\n        this.Cb = _cb;\n\n        return;\n    }\n\n    /**\n     * 点击观看广告按钮\n     */\n    private LookClick() {\n        // AudioMgr.instance.PlayButton();\n        // this.Cb();\n        // return;\n        //显示广告\n        AdMgr.instance.ShowVideo((_isended) => {\n            if (_isended) {\n                this.CloseClick()\n                this.Cb && this.Cb();\n            }\n        });\n    }\n\n    /**\n     * 点击关闭按钮\n     */\n    private CloseClick() {\n        AudioMgr.instance.PlayButton();\n        MessageCenter.SendMessage(\n            MessageType.Type_Top,\n            MessageType.Top_HideAll,\n            null\n        )\n    }\n}\n\n\n","import { _decorator, Component, Label, Node, tween, UIOpacity } from 'cc';\nimport { TopScene } from './TopScene';\nconst { ccclass, property } = _decorator;\n\n@ccclass('PopBox')\nexport class PopBox extends Component {\n\n    //内容\n    @property(Label)\n    private Content: Label | null = null;\n\n    //透明度\n    @property(UIOpacity)\n    private Uiopacity: UIOpacity | null = null;\n\n    /**\n     * 显示弹窗\n     * @param 显示内容\n     */\n    public ShowToast(_content: string) {\n        this.node.active = true;\n        this.Content.string = _content;\n        tween(this.Uiopacity).set({ opacity: 0 }).to(0.4, { opacity: 255 }).delay(1).to(0.2, { opacity: 0 }).call(() => {\n            this.node.parent.getComponent(TopScene).HideAll();\n        }).start();\n    }\n\n}\n\n\n","import { _decorator, Component, EventTouch, Input, instantiate, Label, Node, Prefab, UITransform, Vec2, Vec3 } from 'cc';\nimport { MessageCenter } from '../../Message/MessageCenter';\nimport { MessageType } from '../../Message/Message';\nimport { Global } from '../../Global';\nimport { SingleCat } from './SingleCat';\nimport { LocalMgr } from '../../Mgr/LocalMgr';\nimport { AudioMgr } from '../../Mgr/AudioMgr';\nimport { Tools } from '../../Tools/Tools';\nconst { ccclass, property } = _decorator;\n\n@ccclass('PopCat')\nexport class PopCat extends Component {\n\n    //但只猫咪预设体\n    @property(Prefab)\n    private SingleCat: Prefab | null = null;\n\n    //猫咪数组\n    private CatArray: Node[] = [];\n\n    @property(Node)\n    private MainLoad: Node | null = null;\n\n    //内容层\n    @property(Node)\n    private ContentLoad: Node | null = null;\n\n    //显示内容\n    @property(Node)\n    private Content: Node | null = null;\n\n    //点击元素\n    private ClickPos: Vec2 = new Vec2(0, 0);\n\n    protected onLoad(): void {\n\n    }\n\n    /**\n     * 添加单个\n     * @param 猫咪种类\n     */\n    public AddSingle(_catbreed: string) {\n        let singlecat: Node = instantiate(this.SingleCat);\n        this.MainLoad.addChild(singlecat);\n        singlecat.getComponent(SingleCat).UpdateInfor(_catbreed);\n        this.CatArray.push(singlecat);\n    }\n\n    protected onEnable(): void {\n\n        //如果猫咪有改变\n        if (Global.ChangeCat) {\n            Global.ChangeCat = false;\n            for (let i = 0; i < this.CatArray.length; i++) {\n                if (this.CatArray[i].parent) {\n                    this.CatArray[i].off(Input.EventType.TOUCH_START, this.CatStart, this);\n                    this.CatArray[i].off(Input.EventType.TOUCH_END, this.CatEnd, this);\n                    this.CatArray[i].off(Input.EventType.TOUCH_CANCEL, this.CatEnd, this);\n                    this.CatArray[i].parent.removeChild(this.CatArray[i]);\n                }\n            }\n            this.CatArray = [];\n\n            for (let key of LocalMgr.instance.LocalInfor.cat) {\n                this.AddSingle(key);\n            }\n        }\n\n        this.MainLoad.setPosition(new Vec3(0, 260, 0))\n        this.ContentLoad.on(Input.EventType.TOUCH_MOVE, this.TouchMove, this);\n        this.Content.active = false;\n\n        for (let i = 0; i < this.CatArray.length; i++) {\n            this.CatArray[i].on(Input.EventType.TOUCH_START, this.CatStart, this);\n            this.CatArray[i].on(Input.EventType.TOUCH_END, this.CatEnd, this);\n            this.CatArray[i].on(Input.EventType.TOUCH_CANCEL, this.CatEnd, this);\n        }\n\n    }\n\n    protected onDisable(): void {\n        this.ContentLoad.off(Input.EventType.TOUCH_MOVE, this.TouchMove, this);\n\n        for (let i = 0; i < this.CatArray.length; i++) {\n            this.CatArray[i].off(Input.EventType.TOUCH_START, this.CatStart, this);\n            this.CatArray[i].off(Input.EventType.TOUCH_END, this.CatEnd, this);\n            this.CatArray[i].off(Input.EventType.TOUCH_CANCEL, this.CatEnd, this);\n        }\n    }\n\n    /**\n     * 玩具按钮点击\n     */\n    private CatStart(_e: EventTouch) {\n        this.ClickPos = _e.getLocation();\n    }\n\n    /**\n     * 玩具按钮一移除\n     */\n    private CatEnd(_e: EventTouch) {\n        if (Tools.getPointDistance(_e.getLocation(), this.ClickPos) <= 30) {\n            AudioMgr.instance.PlayButton();\n            this.Content.active = true;\n            this.Content.getComponent(Label).string = _e.target.getComponent(SingleCat).Des;\n        }\n    }\n\n    /**\n     * 点击关闭按钮\n     */\n    private CloseClick() {\n        AudioMgr.instance.PlayButton();\n        MessageCenter.SendMessage(\n            MessageType.Type_Top,\n            MessageType.Top_HideAll,\n            null\n        )\n    }\n\n    /**\n    * 手指移动\n    */\n    private TouchMove(_e: EventTouch) {\n        if (this.MainLoad.getComponent(UITransform).height <= 480) return;\n\n        let pos_y: number = this.MainLoad.getPosition().y + _e.getDeltaY();\n\n        if (pos_y <= 260) pos_y = 260;\n        if (pos_y >= this.MainLoad.getComponent(UITransform).height - 250 + 50) pos_y = this.MainLoad.getComponent(UITransform).height - 250 + 50\n\n        this.MainLoad.setPosition(new Vec3(0, pos_y, 0))\n\n    }\n\n}\n\n\n","import { _decorator, Component, Node, Sprite } from 'cc';\nimport { TweenTool } from '../../Tools/TweenTools';\nimport { AudioMgr } from '../../Mgr/AudioMgr';\nimport { ResMgr } from '../../Mgr/ResMgr';\nimport { MessageCenter } from '../../Message/MessageCenter';\nimport { MessageType } from '../../Message/Message';\nimport { Global } from '../../Global';\nconst { ccclass, property } = _decorator;\n\n@ccclass('PopGet')\n/**\n * 获取弹窗\n */\nexport class PopGet extends Component {\n\n    //光\n    @property(Node)\n    private Light: Node | null = null;\n\n    //标题\n    @property(Node)\n    private Title: Node | null = null;\n\n    //内容\n    @property(Node)\n    private Content: Node | null = null;\n\n    //旋转速度\n    private RotaSpeed: number = 2;\n\n    private AllInfor: { _iscat: boolean, _sprite: string }[] = [];\n\n    //是否可以点击\n    private IsClick = false;\n\n    start() {\n\n    }\n\n    update(deltaTime: number) {\n        this.Light.angle += this.RotaSpeed;\n    }\n\n    /**\n     * 更新内容\n     * @param 获取内容\n     */\n    public UpdateContent(_infor: { _iscat: boolean, _sprite: string }[]) {\n        this.AllInfor = _infor.concat();\n        this.ShowContent()\n    }\n\n    /**\n     * 弹出效果\n     */\n    public ShowContent() {\n\n        if (this.AllInfor.length == 0) {\n            MessageCenter.SendMessage(\n                MessageType.Type_Top,\n                MessageType.Top_HideAll,\n                null\n            )\n            return;\n        }\n\n        let is_cat: boolean = this.AllInfor[0]._iscat;\n\n        if (is_cat) {\n            //发送添加猫咪种类\n            MessageCenter.SendMessage(\n                MessageType.Type_Top,\n                MessageType.Top_AddCat,\n                this.AllInfor[0]._sprite\n            )\n            //发送添加建筑\n            MessageCenter.SendMessage(\n                MessageType.Type_Build,\n                MessageType.Build_AddBuild,\n                null\n            )\n        } else {\n            //发送添加食材\n            MessageCenter.SendMessage(\n                MessageType.Type_Top,\n                MessageType.Top_AddMenu,\n                this.AllInfor[0]._sprite\n            )\n        }\n\n        this.IsClick = false;\n        this.Title.getComponent(Sprite).spriteFrame = ResMgr.instance.SpriteFrames[this.AllInfor[0]._iscat ? \"miaotitle\" : \"congrtitle\"];\n        this.Content.getComponent(Sprite).spriteFrame = ResMgr.instance.SpriteFrames[this.AllInfor[0]._iscat ? Global.CatBreed[this.AllInfor[0]._sprite].sprite : this.AllInfor[0]._sprite];\n\n        TweenTool.Pop(this.Content, () => {\n            this.IsClick = true;\n            this.AllInfor.splice(0, 1);\n        })\n    }\n\n    /**\n     * 点击关闭按钮\n     */\n    private CloseClick() {\n        if (!this.IsClick) return;\n        AudioMgr.instance.PlayButton();\n        this.ShowContent();\n    }\n\n}\n\n\n","declare var tt;\nimport { _decorator, Component, Node, Sprite } from 'cc';\nimport { AudioMgr } from '../../Mgr/AudioMgr';\nimport { MessageCenter } from '../../Message/MessageCenter';\nimport { MessageType } from '../../Message/Message';\nimport { LocalMgr } from '../../Mgr/LocalMgr';\nimport { ResMgr } from '../../Mgr/ResMgr';\nimport { Global } from '../../Global';\nconst { ccclass, property } = _decorator;\n\n@ccclass('PopGift')\nexport class PopGift extends Component {\n    @property(Node)\n    private AwardButton: Node;\n    start() {\n\n    }\n\n    update(deltaTime: number) {\n\n    }\n\n    //是否是领取\n    private IsAward: boolean = true;\n\n    /**\n     * 显示\n     */\n    public Show() {\n        tt.checkScene({\n            scene: \"sidebar\",\n            success: (res) => {\n                console.log(\"check scene success: \", res, Global.SceneString);\n                // this.IsAward = res.isExist;\n                //成功回调逻辑\n                if (res.isExist && res.isExist == true) {\n                    if (Global.SceneString) {\n                        console.log(\"游戏侧边栏进入\")\n                        this.AwardButton.getComponent(Sprite).spriteFrame = ResMgr.instance.SpriteFrames[\"button2\"]\n                    } else {\n                        console.log(\"游戏侧边栏进入111\")\n                        this.AwardButton.getComponent(Sprite).spriteFrame = ResMgr.instance.SpriteFrames[\"button1\"]\n\n                    }\n                } else {\n                    // this.AwardButton.getComponent(Sprite).spriteFrame = ResMgr.instance.SpriteFrames[\"button1\"]\n                    this.AwardButton.active = false;\n                }\n            },\n            fail: (res) => {\n                console.log(\"check scene fail:\", res);\n                //失败回调逻辑\n            }\n        });\n    }\n\n    /**\n     * 点击领取\n     */\n    public ReawrdClick() {\n        console.log(\"领奖成功\", Global.SceneString)\n\n        if (Global.SceneString) {//是侧边栏场景\n            this.CloseClick();\n            LocalMgr.instance.AddHeart(1);\n            MessageCenter.SendMessage(\n                MessageType.Type_Top,\n                MessageType.Top_ShowPopbox,\n                \"喵喵送你1点体力值\"\n            )\n            MessageCenter.SendMessage(\n                MessageType.Type_Login,\n                MessageType.Login_Init,\n                null\n            )\n\n            this.AwardButton.active = false;\n        } else {\n            this.CloseClick();\n            tt.navigateToScene({\n                scene: \"sidebar\",\n                success: (res) => {\n                    console.log(\"navigate to scene success\");\n                    // 跳转成功回调逻辑\n                },\n                fail: (res) => {\n                    console.log(\"navigate to scene fail: \", res);\n                    // 跳转失败回调逻辑\n                },\n            });\n        }\n    }\n\n    /**\n     * 点击关闭按钮\n     */\n    private CloseClick() {\n        AudioMgr.instance.PlayButton();\n        MessageCenter.SendMessage(\n            MessageType.Type_Top,\n            MessageType.Top_HideAll,\n            null\n        )\n    }\n}\n\n\n","import { _decorator, Component, Label, Node } from 'cc';\nimport { MessageCenter } from '../../Message/MessageCenter';\nimport { MessageType } from '../../Message/Message';\nimport { AudioMgr } from '../../Mgr/AudioMgr';\nconst { ccclass, property } = _decorator;\n\n@ccclass('PopInstru')\nexport class PopInstru extends Component {\n\n    protected start(): void {\n        this.node.getChildByName(\"Content\").getComponent(Label).string = \"        身为一名猫咪小吃铺的老板，需要根据顾客的需求制作出符合他们口味的小吃，他们会把小吃的口味分享到世界各地，引来更多的猫咪品尝，快来开启你的猫咪小吃铺之旅吧！\"\n    }\n\n    /**\n      * 点击关闭按钮\n      */\n    private CloseClick() {\n        AudioMgr.instance.PlayButton();\n        MessageCenter.SendMessage(\n            MessageType.Type_Top,\n            MessageType.Top_HideAll,\n            null\n        )\n    }\n\n}\n\n\n","import { _decorator, Component, EventTouch, Input, instantiate, Node, Prefab, UITransform, Vec3 } from 'cc';\nimport { MessageCenter } from '../../Message/MessageCenter';\nimport { MessageType } from '../../Message/Message';\nimport { Global } from '../../Global';\nimport { SingleMenu } from './SingleMenu';\nimport { LocalMgr } from '../../Mgr/LocalMgr';\nimport { AudioMgr } from '../../Mgr/AudioMgr';\nimport { AdMgr } from '../../Mgr/AdMgr';\nconst { ccclass, property } = _decorator;\n\n@ccclass('PopMenu')\n/**\n * 菜单弹窗\n */\nexport class PopMenu extends Component {\n\n    //单个菜单预设体\n    @property(Prefab)\n    private SingleMenu: Prefab | null = null;\n\n    //菜单父级\n    @property(Node)\n    private MainLoad: Node | null = null;\n\n    //内容层\n    @property(Node)\n    private ContentLoad: Node | null = null;\n\n    protected start(): void {\n    }\n\n    /**\n     * 添加单个菜单\n     * @param 菜单名称\n     */\n    public AddSingle(_menu: string) {\n        let singlemenu: Node = instantiate(this.SingleMenu);\n        this.MainLoad.addChild(singlemenu);\n        singlemenu.getComponent(SingleMenu).UpdateContent(_menu, Global.Menu[_menu][0], Global.Menu[_menu][1], Global.Menu[_menu][2])\n    }\n\n    protected onEnable(): void {\n\n        //如果菜单有改变\n        if (Global.ChangeMenu) {\n            Global.ChangeMenu = false;\n            this.MainLoad.removeAllChildren();\n\n            for (let key of LocalMgr.instance.LocalInfor.menu) {\n                this.AddSingle(key);\n            }\n\n        }\n\n        this.MainLoad.setPosition(new Vec3(0, 250, 0))\n        this.ContentLoad.on(Input.EventType.TOUCH_MOVE, this.TouchMove, this);\n\n        return;\n    }\n\n    protected onDisable(): void {\n        this.ContentLoad.off(Input.EventType.TOUCH_MOVE, this.TouchMove, this);\n    }\n\n    /**\n     * 手指移动\n     */\n    private TouchMove(_e: EventTouch) {\n\n        if (this.MainLoad.getComponent(UITransform).height <= 480) return;\n\n        let pos_y: number = this.MainLoad.getPosition().y + _e.getDeltaY();\n\n        if (pos_y <= 250) pos_y = 240;\n        if (pos_y >= this.MainLoad.getComponent(UITransform).height - 250) pos_y = this.MainLoad.getComponent(UITransform).height - 250\n\n        this.MainLoad.setPosition(new Vec3(0, pos_y, 0))\n\n    }\n\n\n    /**\n     * 点击关闭按钮\n     */\n    private CloseClick() {\n        AudioMgr.instance.PlayButton();\n        MessageCenter.SendMessage(\n            MessageType.Type_Top,\n            MessageType.Top_HideAll,\n            null\n        )\n    }\n}\n\n\n","import { _decorator, Component, Node, Sprite } from 'cc';\nimport { AudioMgr } from '../../Mgr/AudioMgr';\nimport { MessageCenter } from '../../Message/MessageCenter';\nimport { MessageType } from '../../Message/Message';\nimport { ResMgr } from '../../Mgr/ResMgr';\nconst { ccclass, property } = _decorator;\n\n@ccclass('PopRule')\n/**\n * 规则弹窗\n */\nexport class PopRule extends Component {\n    start() {\n\n    }\n\n    /**\n       * 点击关闭按钮\n       */\n    private CloseClick() {\n        AudioMgr.instance.PlayButton();\n        MessageCenter.SendMessage(\n            MessageType.Type_Top,\n            MessageType.Top_HideAll,\n            null\n        )\n    }\n\n    /**\n     * 更新内容\n     */\n    public UpdateContent(_rule: string) {\n        this.node.getChildByName(\"Bg\").getComponent(Sprite).spriteFrame = ResMgr.instance.SpriteFrames[_rule]\n    }\n}\n\n\n","import { _decorator, Component, EventTouch, Input, instantiate, Node, Prefab, UITransform, Vec2, Vec3 } from 'cc';\nimport { MessageCenter } from '../../Message/MessageCenter';\nimport { MessageType } from '../../Message/Message';\nimport { AudioMgr } from '../../Mgr/AudioMgr';\nimport { SingleToy } from './SingleToy';\nimport { Tools } from '../../Tools/Tools';\nimport { LocalMgr } from '../../Mgr/LocalMgr';\nconst { ccclass, property } = _decorator;\n\n@ccclass('PopToy')\nexport class PopToy extends Component {\n\n    //单个玩具预设\n    @property(Prefab)\n    private SingleToy: Prefab | null = null;\n\n    //玩具数组\n    private ToyArray: { CatHome: Node[], CatPic: Node[], CatBall: Node[], CatBowl: Node[], CatWallShi: Node[] } = {\n        CatHome: [],\n        CatPic: [],\n        CatBall: [],\n        CatBowl: [],\n        CatWallShi: []\n    }\n\n    //建筑索引\n    public BuildIndex: number = 0;\n\n    //菜单父级\n    @property(Node)\n    private MainLoad: Node | null = null;\n\n    //内容层\n    @property(Node)\n    private ContentLoad: Node | null = null;\n\n    //玩具信息\n    private ToyInfor = {\n        CatHome: [{ sprite: \"cathome0\", price: 50 }, { sprite: \"cathome1\", price: 50 }, { sprite: \"cathome2\", price: 50 }],\n        CatPic: [{ sprite: \"buildwindow0\", price: 50 }, { sprite: \"buildwindow1\", price: 50 }, { sprite: \"buildwindow2\", price: 50 },],\n        CatBall: [{ sprite: \"catball0\", price: 50 }, { sprite: \"catball1\", price: 50 }, { sprite: \"catball2\", price: 50 },],\n        CatBowl: [{ sprite: \"catbowl0\", price: 50 }, { sprite: \"catbowl1\", price: 50 }, { sprite: \"catbowl2\", price: 50 },],\n        CatWallShi: [{ sprite: \"wallshipin0\", price: 50 }, { sprite: \"wallshipin1\", price: 50 }, { sprite: \"wallshipin2\", price: 50 },]\n    }\n\n    //点击元素\n    private ClickPos: Vec2 = new Vec2(0, 0);\n\n    protected onLoad(): void {\n        for (let key in this.ToyInfor) {\n            for (let i = 0; i < this.ToyInfor[key].length; i++) {\n                let st: Node = instantiate(this.SingleToy);\n                this.MainLoad.getChildByName(key).addChild(st);\n                st.getComponent(SingleToy).UpdateContent(key, this.ToyInfor[key][i])\n                this.ToyArray[key].push(st);\n            }\n        }\n\n    }\n\n    protected onEnable(): void {\n        this.MainLoad.setPosition(new Vec3(0, 250, 0))\n        this.ContentLoad.on(Input.EventType.TOUCH_MOVE, this.TouchMove, this);\n\n        for (let key in this.ToyArray) {\n            for (let i = 0; i < this.ToyArray[key].length; i++) {\n                this.ToyArray[key][i].on(Input.EventType.TOUCH_START, this.ToyStart, this);\n                this.ToyArray[key][i].on(Input.EventType.TOUCH_END, this.ToyEnd, this);\n                this.ToyArray[key][i].on(Input.EventType.TOUCH_CANCEL, this.ToyEnd, this);\n            }\n        }\n\n    }\n\n    protected onDisable(): void {\n        this.ContentLoad.off(Input.EventType.TOUCH_MOVE, this.TouchMove, this);\n\n\n        for (let key in this.ToyArray) {\n            for (let i = 0; i < this.ToyArray[key].length; i++) {\n                this.ToyArray[key][i].off(Input.EventType.TOUCH_START, this.ToyStart, this);\n                this.ToyArray[key][i].off(Input.EventType.TOUCH_END, this.ToyEnd, this);\n                this.ToyArray[key][i].off(Input.EventType.TOUCH_CANCEL, this.ToyEnd, this);\n            }\n        }\n\n\n    }\n\n    /**\n     * 更新玩具\n     */\n    private UpdateToy() {\n\n        for (let key in this.ToyArray) {\n\n            if (LocalMgr.instance.LocalInfor.toyinfor[this.BuildIndex][key] !== \"\") {\n                for (let i = 0; i < this.ToyArray[key].length; i++) {\n                    this.ToyInfor[key][i].price = 0;\n                    this.ToyArray[key][i].getComponent(SingleToy).UpdateContent(key, this.ToyInfor[key][i])\n                }\n            }\n\n        }\n\n    }\n\n    /**\n     * 更新显示内容\n     * @param 建筑信息\n     */\n    public UpdateShow(_buildinfor: { type: string, index: number }) {\n        this.UpdateToy();\n        for (let key in this.ToyInfor) {\n            this.MainLoad.getChildByName(key).active = (key == _buildinfor.type)\n        }\n\n        this.BuildIndex = _buildinfor.index;\n    }\n\n    /**\n     * 玩具按钮点击\n     */\n    private ToyStart(_e: EventTouch) {\n        this.ClickPos = _e.getLocation();\n    }\n\n    /**\n     * 玩具按钮一移除\n     */\n    private ToyEnd(_e: EventTouch) {\n        if (Tools.getPointDistance(_e.getLocation(), this.ClickPos) <= 30) {\n            this.BuyToy(_e.target);\n        }\n    }\n\n    /**\n     * 手指移动\n     */\n    private TouchMove(_e: EventTouch) {\n        if (this.MainLoad.getComponent(UITransform).height <= 480) return;\n\n        let pos_y: number = this.MainLoad.getPosition().y + _e.getDeltaY();\n\n        if (pos_y <= 250) pos_y = 250;\n        if (pos_y >= this.MainLoad.getComponent(UITransform).height - 250 + 50) pos_y = this.MainLoad.getComponent(UITransform).height - 250 + 50\n\n        this.MainLoad.setPosition(new Vec3(0, pos_y, 0))\n    }\n\n    /**\n    * 点击关闭按钮\n    */\n    private CloseClick() {\n        AudioMgr.instance.PlayButton();\n        MessageCenter.SendMessage(\n            MessageType.Type_Top,\n            MessageType.Top_HideAll,\n            null\n        )\n    }\n\n    /**\n     * 购买玩具\n     * @param 玩具\n     * @param 玩具类型\n     * @param 玩具信息\n     */\n    private BuyToy(_toy: Node) {\n        AudioMgr.instance.PlayButton();\n\n        //玩具类型\n        let toy_type: string = _toy.getComponent(SingleToy).MyType;\n        //玩具信息\n        let toy_infor: { sprite: string, price: number } = _toy.getComponent(SingleToy).ToyInfor\n\n        if (LocalMgr.instance.LocalInfor.coinnum >= toy_infor.price) {//买的起\n            MessageCenter.SendMessage(\n                MessageType.Type_Build,\n                MessageType.Build_Buy,\n                {\n                    buildindex: this.BuildIndex,\n                    toyinfor:\n                    {\n                        type: toy_type,\n                        sprite: toy_infor.sprite\n                    }\n                }\n            );\n            LocalMgr.instance.AddCoin(-toy_infor.price);\n            LocalMgr.instance.LocalInfor.toyinfor[this.BuildIndex][toy_type] = toy_infor.sprite;\n            this.UpdateToy();\n            this.CloseClick();\n        } else {//买不起\n            this.CloseClick();\n            MessageCenter.SendMessage(\n                MessageType.Type_Top,\n                MessageType.Top_ShowPopbox,\n                \"金币不足\"\n            );\n        }\n\n\n\n    }\n}\n\n\n","import { _decorator, Component, Node, AssetManager, assetManager, Prefab, Texture2D, SpriteAtlas, SpriteFrame, JsonAsset, AudioClip } from 'cc';\nimport { Global } from '../Global';\nconst { ccclass, property } = _decorator;\n\n@ccclass('ResMgr')\n/**\n * 资源加载管理\n */\nexport class ResMgr {\n    //\n    private static _instance: ResMgr = null;\n    //\n    public static get instance() {\n        if (!this._instance) {\n            this._instance = new ResMgr();\n        }\n        return this._instance;\n    }\n\n    //包体\n    private Bundles = {};\n\n    //预设体数组\n    public Prefabs = {}\n\n    //纹理数组\n    public SpriteFrames = {};\n\n    //音乐数组\n    public Audio = {};\n\n    //当前加载进度\n    public NowProgress: number = 0;\n\n    /**\n     * 加载包体\n     * @param 包体名称\n     * @oaran 完成进度\n     */\n    public async LoadBundle(_bundlename: string, _completeprogress: number = 0) {\n        return new Promise<void>((_resolve, _reject) => {\n            assetManager.loadBundle(_bundlename, (err, bundle) => {\n                Global.IsDebug && console.log(_bundlename + \"包加载包完成\", err, bundle);\n                this.Bundles[_bundlename] = bundle;\n                Global.LoadProgress += _completeprogress;\n                this.NowProgress = Global.LoadProgress;\n                _resolve && _resolve();\n            })\n        })\n    }\n\n    /**\n     * 加载资源\n     * @param 包体名称\n     * @param 加载类型\n     * @oaran 完成进度\n     */\n    public async LoadRes(_bundlename: string, _type: any, _completeprogress: number = 0) {\n        return new Promise<void>((_resolve, _reject) => {\n            this.Bundles[_bundlename].loadDir(_type.path, _type.type, (_fish: number, _total: number) => {\n                Global.LoadProgress = _completeprogress * (_fish / _total) + this.NowProgress;\n                // Global.IsDebug && console.log(\"加载\" + _bundlename + \"包体进度\", _type, _fish, _total, Global.LoadProgress);\n            }, (_err: any, _assets: any[]) => {\n                Global.IsDebug && console.log(\"加载完成\", _assets, _err, _bundlename)\n\n                this.NowProgress = Global.LoadProgress;\n                console.warn(\"当前包资源\", this.NowProgress, _type)\n                //单个资源\n                let asset: any;\n\n                if (_type.type == Prefab) {//预设体\n                    for (let i = 0; i < _assets.length; i++) {\n                        asset = _assets[i];\n                        this.Prefabs[asset.data.name] = asset;\n                        Global.IsDebug && console.log(\"prefab name==\", asset.data.name)\n                    }\n                }\n\n                if (_type.type == SpriteFrame) {//纹理\n                    for (let i = 0; i < _assets.length; i++) {\n                        asset = _assets[i];\n                        this.SpriteFrames[asset.name] = asset;\n                        Global.IsDebug && console.log(\"spriteframe name==\", asset.name)\n                    }\n                }\n\n                if (_type.type == JsonAsset) {\n                    Global.IsDebug && console.log(_assets, \"Json\", _assets[0].json)\n                }\n\n                if (_type.type == AudioClip) {//音效\n                    for (let i = 0; i < _assets.length; i++) {\n                        asset = _assets[i];\n                        this.Audio[asset.name] = asset;\n                        Global.IsDebug && console.log(\"audioclip name==\", asset.name)\n                    }\n                }\n\n                _resolve && _resolve();\n            })\n        })\n    }\n\n    /**\n     * 加载进度初始化\n     */\n    public LoadInit() {\n        this.NowProgress = 0;\n        Global.LoadProgress = 0;\n    }\n}\n\n","import { _decorator, Animation, Component, Node, Sprite, Vec3, VerticalTextAlignment } from 'cc';\nimport { MessageCenter } from '../../Message/MessageCenter';\nimport { MessageType } from '../../Message/Message';\nimport { ResMgr } from '../../Mgr/ResMgr';\nimport { AudioMgr } from '../../Mgr/AudioMgr';\nimport { LocalMgr } from '../../Mgr/LocalMgr';\nimport { StarEffect } from '../TopScene/StarEffect';\nimport { Global } from '../../Global';\nconst { ccclass, property } = _decorator;\n\n@ccclass('SingleBuild')\n/**\n * 单个建筑\n */\nexport class SingleBuild extends Component {\n\n    //窗户\n    @property(Node)\n    private CatPic: Node | null = null;\n\n    //猫窝\n    @property(Node)\n    private CatHome: Node | null = null;\n\n    //球\n    @property(Node)\n    private CatBall: Node | null = null;\n\n    //碗\n    @property(Node)\n    private CatBowl: Node | null = null;\n\n    //墙饰品\n    @property(Node)\n    private CatWallShi: Node | null = null;\n\n    //猫咪\n    @property(Node)\n    private Cat: Node | null = null;\n\n    //猫咪移动速度\n    private CatSpeed: number = 10;\n    private CatVx: number = 0;\n\n    //星星效果\n    @property(Node)\n    private StarEffect: Node | null = null;\n\n    //当前索引\n    public NowIndex: number = 0;\n\n    //单个建筑信息\n    private BuildInfor: { CatPic: string, CatHome: string, CatBall: string, CatBowl: string, CatWallShi: string } = null;\n\n\n    protected start(): void {\n        this.CatSpeed = (1 + Math.floor(Math.random() * 2)) / 2;\n        this.CatVx = this.CatSpeed;\n\n        this.Cat.getChildByName(\"Cat\").getComponent(Animation).play();\n    }\n\n    /**\n     * 更新内容\n     * @param 建筑内容\n     * @param 建筑索引\n     */\n    public UdpateContent(_buildinfor: { CatPic: string, CatHome: string, CatBall: string, CatBowl: string, CatWallShi: string }, _index: number) {\n        this.BuildInfor = _buildinfor;\n        this.NowIndex = _index;\n        for (let key in this.BuildInfor) {\n            this[key].getComponent(Sprite).spriteFrame = ResMgr.instance.SpriteFrames[this.BuildInfor[key] == \"\" ? \"littlejiabox\" : this.BuildInfor[key]];\n        }\n    }\n\n    /**\n     * 更新猫咪\n     * @param 猫咪种类\n     */\n    public UpdateCat(_breed: string) {\n        let cat: string = Global.CatBreed[_breed].sprite;\n        this.Cat.getChildByName(\"Cat\").getChildByName(\"Cat\").getComponent(Sprite).spriteFrame = ResMgr.instance.SpriteFrames[cat];\n        this.Cat.getChildByName(\"Cat\").getChildByName(\"LeftHand\").getComponent(Sprite).spriteFrame = ResMgr.instance.SpriteFrames[cat + \"hand\"];\n        this.Cat.getChildByName(\"Cat\").getChildByName(\"RightHand\").getComponent(Sprite).spriteFrame = ResMgr.instance.SpriteFrames[cat + \"hand\"];\n    }\n\n    protected update(dt: number): void {\n        let move_pos: Vec3 = this.Cat.getPosition().add(new Vec3(this.CatVx, 0, 0));\n\n        if (move_pos.x <= -300) this.CatVx = (1 + Math.floor(Math.random() * 2)) / 2;\n        else if (move_pos.x >= 300) this.CatVx = -(1 + Math.floor(Math.random() * 2)) / 2;\n\n        this.Cat.setPosition(move_pos)\n    }\n\n    /**\n     * 点击家具\n     * @param 点击事件\n     * @param 传参\n     */\n    private ClickToy(_e, _cus) {\n        Global.IsDebug && console.log(\"点击\", _cus)\n        AudioMgr.instance.PlayButton();\n        MessageCenter.SendMessage(\n            MessageType.Type_Top,\n            MessageType.Top_ShowToy,\n            {\n                type: _cus,\n                index: this.NowIndex\n            }\n        )\n\n\n    }\n\n    /**\n     * 更新道具\n     * @param 道具类型\n     * @param 更换纹理\n     */\n    public UdpateToy(_type: string, _spriteframe: string) {\n        this.BuildInfor[_type] = _spriteframe;\n\n        this.StarEffect.getComponent(StarEffect).AddStar(this.node, this[_type].getPosition());\n\n        LocalMgr.instance.AddToy(this.NowIndex, this.BuildInfor)\n        this.UdpateContent(this.BuildInfor, this.NowIndex);\n    }\n\n\n}\n\n\n","import { _decorator, Component, Label, Node, Sprite } from 'cc';\nimport { Global } from '../../Global';\nimport { ResMgr } from '../../Mgr/ResMgr';\nconst { ccclass, property } = _decorator;\n\n@ccclass('SingleCat')\n/**\n * 单个小猫咪\n */\nexport class SingleCat extends Component {\n\n    //猫咪身体\n    @property(Node)\n    private Body: Node | null = null;\n\n    //左手\n    @property(Node)\n    private LeftHand: Node | null = null;\n\n    //右手\n    @property(Node)\n    private RightHand: Node | null = null;\n\n    //猫咪名称\n    @property(Label)\n    private Nick: Label | null = null;\n    public Des: string = \"\";\n    //\n    public Cb: Function = null;\n\n    /**\n    * 更新猫咪\n    * @param 猫咪种类\n    */\n    public UpdateInfor(_breed: string) {\n        let cat: string = Global.CatBreed[_breed].sprite;\n        this.Body.getComponent(Sprite).spriteFrame = ResMgr.instance.SpriteFrames[cat];\n        this.LeftHand.getComponent(Sprite).spriteFrame = ResMgr.instance.SpriteFrames[cat + \"hand\"];\n        this.RightHand.getComponent(Sprite).spriteFrame = ResMgr.instance.SpriteFrames[cat + \"hand\"];\n\n        this.Nick.string = Global.CatBreed[_breed].name;\n        this.Des = Global.CatBreed[_breed].dec;\n    }\n\n}\n\n\n","import { _decorator, Animation, Component, easing, Node, Sprite, Tween, tween, TweenAction, Vec3 } from 'cc';\nimport { Global } from '../../Global';\nimport { ResMgr } from '../../Mgr/ResMgr';\nconst { ccclass, property } = _decorator;\n\n@ccclass('SingleFood')\n/**\n * 游戏中单个食品\n */\nexport class SingleFood extends Component {\n\n    //食物\n    @property(Node)\n    private Food: Node | null = null;\n\n    //框\n    @property(Node)\n    private Box: Node | null = null;\n\n    //线\n    @property(Node)\n    public Line: Node | null = null;\n\n    //选中缩放值\n    private ScaleNum = { choose: new Vec3(1.2, 1.2, 1.2), normal: new Vec3(1, 1, 1) };\n\n    //横竖索引值\n    public IIndex: { hor: number, ver: number } = {\n        hor: 0, ver: 0\n    };\n\n    //食物名称\n    public FoodName: string = \"\";\n\n    //是否被选择了\n    public IsChoose: boolean = false;\n\n    //下降格子数\n    public DownNum: number = 3;\n\n    start() {\n        this.node.setScale(Global.FoodScale);\n        this.Line.active = false;\n        this.Box.active = false;\n    }\n\n    /**\n     * 更新食物\n     * @param 食物纹理\n     */\n    public UpdateFood(_foodname: string) {\n        this.FoodName = _foodname;\n        this.Food.getComponent(Sprite).spriteFrame = ResMgr.instance.SpriteFrames[this.FoodName];\n    }\n\n    /**\n     * 更新索引\n     * @param 横竖索引\n     */\n    public UpdateIndex(_hor: number, _ver: number) {\n        this.IIndex.hor = _hor;\n        this.IIndex.ver = _ver;\n    }\n\n\n    /**\n     * 食物被选中\n     * @param 斜线角度\n     */\n    public IamChoose() {\n        this.IsChoose = true;\n        tween(this.Food).tag(0).set({ scale: this.ScaleNum.normal }).\n            to(0.1, { scale: new Vec3(1.5, 1.5, 1.5) }, { easing: 'backIn' }).\n            to(0.1, { scale: this.ScaleNum.choose }, { easing: 'backOut' }).\n            start();\n        this.Box.active = false;\n    }\n\n    /**\n     * 食物正常\n     */\n    public ImaNormal() {\n        this.IsChoose = false;\n        Tween.stopAllByTag(0)\n        this.Food.setScale(this.ScaleNum.normal);\n        this.Box.active = false;\n        this.Line.active = false;\n    }\n\n    /**\n     * 更新连线\n     */\n    public UpdateLine(_lineangle: number) {\n        // this.Line.active = true;\n        this.Line.angle = _lineangle;\n    }\n\n    /**\n     * 更换线得父级\n     */\n    public ChangeLineParent(_node: Node, _pos: Vec3) {\n        _node.addChild(this.Line);\n        this.Line.setPosition(_pos);\n    }\n\n    /**\n     * 更新位置\n     */\n    public UpdatePos() {\n        this.ImaNormal();\n        if (this.DownNum == 0) return;\n        tween(this.Food).set({ position: new Vec3(0, this.DownNum * 178, 0) }).to(0.3, { position: new Vec3(0, 0, 0) }, { easing: easing.backOut }).start();\n    }\n\n\n}\n\n\n","import { _decorator, Component, Node, Sprite } from 'cc';\nimport { ResMgr } from '../../Mgr/ResMgr';\nconst { ccclass, property } = _decorator;\n\n@ccclass('SingleMenu')\n/**\n * 单个菜单\n */\nexport class SingleMenu extends Component {\n\n    //烹饪\n    @property(Sprite)\n    private Cookie: Sprite | null = null;\n\n    //食材\n    @property(Sprite)\n    private Food0: Sprite | null = null;\n\n    //食材1\n    @property(Sprite)\n    private Food1: Sprite | null = null;\n\n    //食材2\n    @property(Sprite)\n    private Food2: Sprite | null = null;\n\n\n    /**\n     * 更新内容\n     * @param 烹饪\n     * @param 食材\n     * @param 食材\n     * @param 食材\n     */\n    public UpdateContent(_cookie: string, _food0: string, _food1: string, _food2: string) {\n        this.Cookie.spriteFrame = ResMgr.instance.SpriteFrames[_cookie];\n        this.Food0.spriteFrame = ResMgr.instance.SpriteFrames[_food0];\n        this.Food1.spriteFrame = ResMgr.instance.SpriteFrames[_food1];\n        this.Food2.spriteFrame = ResMgr.instance.SpriteFrames[_food2];\n    }\n\n}\n\n\n","import { _decorator, Component, Label, Node, Sprite, Vec3 } from 'cc';\nimport { ResMgr } from '../../Mgr/ResMgr';\nconst { ccclass, property } = _decorator;\n\n@ccclass('SingleToy')\n/**\n * 单个玩具\n */\nexport class SingleToy extends Component {\n\n    //玩具\n    @property(Node)\n    private Toy: Node | null = null;\n\n    //价格\n    @property(Label)\n    private CoinText: Label | null = null;\n\n    //我的属性\n    public MyType: string = \"\";\n\n    //回调函数\n    public Cb: Function = null;\n\n    //玩具信息\n    public ToyInfor: { sprite: string, price: number } = null;\n\n    //缩放值\n    private ScaleNum = {\n        CatHome: 0.5,\n        CatPic: 0.5,\n        CatBall: 1,\n        CatBowl: 1,\n        CatWallShi: 0.8\n    }\n\n\n    /**\n     * 更新内容\n     */\n    public UpdateContent(_type: string, _toyinfor: { sprite: string, price: number }) {\n        this.MyType = _type;\n        this.ToyInfor = _toyinfor;\n\n        this.Toy.getComponent(Sprite).spriteFrame = ResMgr.instance.SpriteFrames[_toyinfor.sprite];\n        this.Toy.setScale(new Vec3(this.ScaleNum[this.MyType], this.ScaleNum[this.MyType], this.ScaleNum[this.MyType]))\n        this.CoinText.string = _toyinfor.price.toString();\n    }\n\n}\n\n\n","import { _decorator, CCInteger, Component, instantiate, Node, Prefab, tween, UIOpacity, Vec3 } from 'cc';\nconst { ccclass, property } = _decorator;\n\n@ccclass('StarEffect')\n/**\n * 星星效果\n */\nexport class StarEffect extends Component {\n\n    //星星预设体\n    @property(Prefab)\n    private Star: Prefab | null = null;\n\n    //星星数量\n    @property(CCInteger)\n    private StarNum: number = 0;\n\n    //星星数组\n    private StarArray: Node[] = [];\n\n    start() {\n\n        for (let i = 0; i < this.StarNum; i++) {\n            let star: Node = instantiate(this.Star);\n            this.node.addChild(star);\n            this.StarArray.push(star)\n            star.setScale(0.2, 0.2, 0.2)\n            star.active = false;\n        }\n\n    }\n\n    /**\n     * 添加星星效果\n     * @param 父级\n     * @param 位置\n     */\n    public AddStar(_parent: Node, _pos: Vec3) {\n        _parent.addChild(this.node);\n        this.node.setPosition(_pos);\n        this.PlayStar();\n    }\n\n\n    /**\n     * 播放星星效果\n     */\n    private PlayStar() {\n        let dis_num: number = 50;\n        for (let i = 0; i < this.StarArray.length; i++) {\n            let angle_num: number = 360 / this.StarNum * i * Math.PI / 180;\n            let posx: number = dis_num * Math.cos(angle_num);\n            let posy: number = dis_num * Math.sin(angle_num);\n            let tween_angle: number = angle_num <= Math.PI / 2 ? -720 : 720;\n            this.StarArray[i].active = true;\n\n            tween(this.StarArray[i]).\n                set({ position: new Vec3(0, 0, 0), angle: 0 }).\n                to(1, { position: new Vec3(posx, posy, 0), angle: tween_angle / 2 }, {\n                    easing: 'backOut', onUpdate: (_target: Node, _ratio: number) => {\n                        _target.getComponent(UIOpacity).opacity = 255 - _ratio * 255\n                    }, onComplete: (_target: Node) => {\n                        _target.active = false;\n                    }\n                }).\n                start();\n\n        }\n    }\n\n}\n\n\n","import { _decorator, Component, Node, tween, Vec3 } from 'cc';\nconst { ccclass, property } = _decorator;\n\n@ccclass('test')\nexport class test extends Component {\n    start() {\n\n    }\n\n    update(deltaTime: number) {\n\n    }\n\n    /**\n     * dianji \n     */\n    private Click() {\n\n        for (let i = 1; i <= 8; i++) {\n            let lable: Node = this.node.getChildByName(\"Label-00\" + i.toString());\n            let pos: Vec3 = (lable.getPosition().add(new Vec3(0, (i % 2 == 0) ? -50 : 50)))\n\n            tween(lable).to(0.5, { position: pos }).start();\n        }\n\n    }\n\n}\n\n\n","import { _decorator, Component, Node, Vec2, Vec3 } from 'cc';\nconst { ccclass, property } = _decorator;\n\n@ccclass('Tools')\nexport class Tools extends Component {\n\n    /**\n     * 判断点击的位置是否相交\n     * @param 点击的位置\n     * @param 元素位置\n     * @param 元素的宽高\n     */\n    static CheckPoint(_clickpos: Vec3, _elepos: Vec3, _width: number, _height: number) {\n        if (Math.abs(_clickpos.x - _elepos.x) <= _width / 2 &&\n            Math.abs(_clickpos.y - _elepos.y) <= _height / 2) {\n            return true;\n        }\n        return false;\n    }\n\n    /**\n     * 获得两点之间角度\n     * @param _firstpoint \n     * @param _secondpoint \n     */\n    static getPointAngle(_firstpoint: { hor: number, ver: number }, _secondpoint: { hor: number, ver: number }) {\n        return Math.atan2(_secondpoint.ver - _firstpoint.ver, _secondpoint.hor - _firstpoint.hor);\n    }\n\n\n\n    /**\n     * 获得两点之间距离(2d x,y)\n     * @param _firstpoint \n     * @param _secondpoint \n     */\n    static getPointDistance(_firstpoint: Vec2, _secondpoint: Vec2) {\n        let hordis: number = _secondpoint.x - _firstpoint.x;\n        let verdis: number = _secondpoint.y - _firstpoint.y;\n        return Math.sqrt(hordis * hordis + verdis * verdis);\n    }\n\n    /**\n     * 判断是否是同一天\n     * @param\n     * @param\n     */\n    static checkSameDay(_firsttime: Date, _secondtime: Date) {\n        return (_firsttime.getFullYear() === _secondtime.getFullYear() &&\n            _firsttime.getMonth() === _secondtime.getMonth() &&\n            _firsttime.getDate() === _secondtime.getDate())\n    }\n\n\n\n}\n\n\n","import { _decorator, Component, Node } from 'cc';\nimport { BaseManager } from '../BaseManager';\nimport { MessageType } from '../Message';\nconst { ccclass, property } = _decorator;\n\n@ccclass('TopManager')\nexport class TopManager extends BaseManager {\n    //单例\n    static _instance: TopManager;\n\n    onLoad() {\n        TopManager._instance = this;\n    }\n\n    SetMessageType() {\n        return MessageType.Type_Top;\n    }\n}\n\n\n","import { _decorator, Component, Input, Node } from 'cc';\nimport { TopManager } from '../../Message/Manager/TopManager';\nimport { BaseLoad } from '../../Message/BaseLoad';\nimport { Message, MessageType } from '../../Message/Message';\nimport { Global } from '../../Global';\nimport { TweenTool } from '../../Tools/TweenTools';\nimport { PopBox } from './PopBox';\nimport { PopToy } from './PopToy';\nimport { PopRule } from './PopRule';\nimport { PopGet } from './PopGet';\nimport { PopCat } from './PopCat';\nimport { PopMenu } from './PopMenu';\nimport { PopAd } from './PopAd';\nimport { AdMgr } from '../../Mgr/AdMgr';\nimport { PopGift } from './PopGift';\nconst { ccclass, property } = _decorator;\n\n@ccclass('TopScene')\n/**\n * 顶部层\n */\nexport class TopScene extends BaseLoad {\n\n    //遮罩\n    @property(Node)\n    private MaskBg: Node | null = null;\n\n    //菜单层\n    @property(Node)\n    private PopMenu: Node | null = null;\n\n    //猫咪图鉴\n    @property(Node)\n    private PopCat: Node | null = null;\n\n    //游戏说明\n    @property(Node)\n    private PopInstru: Node | null = null;\n\n    //猫咪玩具层\n    @property(Node)\n    private PopToy: Node | null = null;\n\n    //弹窗提示\n    @property(Node)\n    private PopBox: Node | null = null;\n\n    //获得弹窗\n    @property(Node)\n    private PopGet: Node | null = null;\n\n    //广告弹窗\n    @property(Node)\n    private PopAd: Node | null = null;\n    //礼物层\n    @property(Node)\n    private PopGift: Node;\n\n    protected onLoad(): void {\n\n        TopManager._instance.RegisterReceiver(this);\n\n        this.MaskBg.on(Input.EventType.TOUCH_START, () => { }, this);\n        this.HideAll();\n    }\n\n    /**\n     * 接收消息\n     */\n    ReceiveMessage(_msg: Message): void {\n        Global.IsDebug && console.log(\"TopScene接收消息\", _msg);\n        switch (_msg.Command) {\n            case MessageType.Top_HideAll:\n                this.HideAll();\n                break;\n            case MessageType.Top_ShowMenu:\n                this.ShowMenu();\n                break;\n            case MessageType.Top_ShowInstru:\n                this.ShowInstru(_msg.Content);\n                break;\n            case MessageType.Top_ShowCat:\n                this.ShowCat();\n                break;\n            case MessageType.Top_ShowPopbox:\n                this.ShowPop(_msg.Content);\n                break;\n            case MessageType.Top_ShowToy:\n                this.ShowToy(_msg.Content);\n                break;\n            case MessageType.Top_ShowGet:\n                this.ShowGet(_msg.Content);\n                break;\n            case MessageType.Top_AddCat:\n                // this.PopCat.getComponent(PopCat).AddSingle(_msg.Content);\n                Global.ChangeCat = true;\n                break;\n            case MessageType.Top_AddMenu:\n                // this.PopMenu.getComponent(PopMenu).AddSingle(_msg.Content);\n                Global.ChangeMenu = true;\n                break;\n            case MessageType.Top_ShowAd:\n                this.ShowAd(_msg.Content);\n                break;\n            case MessageType.Top_ShowGift:\n                this.ShowGift();\n                break;\n        }\n    }\n    /**\n     * 显示礼物\n     */\n    public ShowGift() {\n        this.MaskBg.active = true;\n        this.PopGift.active = true;\n        this.PopGift.getComponent(PopGift).Show();\n    }\n\n\n    /**\n     * 隐藏所有\n     */\n    public HideAll() {\n        for (let chi of this.node.children) chi.active = false;\n        return;\n    }\n\n    /**\n     * 显示食物弹窗\n     */\n    private ShowInstru(_rule: string) {\n        this.MaskBg.active = true;\n        this.PopInstru.active = true;\n        this.PopInstru.getComponent(PopRule).UpdateContent(_rule)\n        TweenTool.Pop(this.PopInstru);\n    }\n\n    /**\n     * 显示食物弹窗\n     */\n    private ShowMenu() {\n        this.MaskBg.active = true;\n        this.PopMenu.active = true;\n        TweenTool.Pop(this.PopMenu);\n    }\n\n    /**\n     * 显示食物弹窗\n     */\n    private ShowCat() {\n        this.MaskBg.active = true;\n        this.PopCat.active = true;\n        TweenTool.Pop(this.PopCat);\n    }\n\n    /**\n     * 显示提示弹窗\n     * @param 提示内容\n     */\n    private ShowPop(_content: string) {\n        this.MaskBg.active = true;\n        this.PopBox.getComponent(PopBox).ShowToast(_content);\n    }\n\n    /**\n     * 显示道具\n     * @param 点击建筑信息\n     */\n    private ShowToy(_buildinfor: { type: string, index: number }) {\n        this.MaskBg.active = true;\n        this.PopToy.active = true;\n        this.PopToy.getComponent(PopToy).UpdateShow(_buildinfor);\n        TweenTool.Pop(this.PopToy);\n    }\n\n    /**\n     * 显示获取\n     * @param 获取信息\n     */\n    private ShowGet(_infor: { _iscat: boolean, _sprite: string }[]) {\n        this.MaskBg.active = true;\n        this.PopGet.active = true;\n        this.PopGet.getComponent(PopGet).UpdateContent(_infor);\n        TweenTool.Pop(this.PopGet);\n    }\n\n    /**\n     * 显示广告\n     */\n    private ShowAd(_adinfor: { loadname: string, cb: Function }) {\n        this.MaskBg.active = true;\n        this.PopAd.active = true;\n        this.PopAd.getComponent(PopAd).UpdateContent(_adinfor.loadname, _adinfor.cb);\n        TweenTool.Pop(this.PopAd);\n    }\n\n\n\n\n}\n\n\n","import { _decorator, Component, easing, ModelRenderer, Node, tween, UIOpacity, Vec3 } from 'cc';\nconst { ccclass, property } = _decorator;\n\n@ccclass('TweenTool')\n/**\n * 缓动工具\n */\nexport class TweenTool extends Component {\n\n    /**\n     * 屏幕爆炸特效\n     * @param 场景\n     * @param 回调函数\n     */\n    static ScreenBoom(_node: Node, _cb: Function) {\n        let tween_time: number = 0.1;\n        let angle_num: number = 5;\n        let scale_num: number = 1.5;\n\n        tween(_node).\n            to(tween_time, {\n                scale: new Vec3(scale_num, scale_num, scale_num),\n                angle: angle_num,\n            }).\n            to(tween_time, {\n                scale: new Vec3(1, 1, 1),\n                angle: 0,\n            }).\n            to(tween_time, {\n                scale: new Vec3(scale_num, scale_num, scale_num),\n                angle: -angle_num,\n            }).\n            to(tween_time, {\n                scale: new Vec3(1, 1, 1),\n                angle: 0,\n            }).call(() => {\n                _cb && _cb();\n            }).start()\n    }\n\n    /**\n     * 弹窗缓动\n     * @param 场景\n     * @param 回调函数\n     */\n    static Pop(_node: Node, _cb: Function = null) {\n        let tween_time: number = 0.3;\n        let scale_num: number = 1;\n\n        tween(_node).\n            tag(1).\n            set({ scale: new Vec3(0, 0, 0) }).\n            to(tween_time, {\n                scale: new Vec3(scale_num, scale_num, scale_num),\n            }, {\n                easing: easing.backOut\n            }).call(() => {\n                _cb && _cb();\n            }).start()\n    }\n\n    /**\n     * 场景移动\n     * @param 场景\n     * @param 回调函数\n     */\n    static SceneMove(_node: Node, _startpos: Vec3, _endpos: Vec3, _cb: Function = null) {\n        let tween_time: number = 0.3;\n\n        tween(_node).\n            set({ position: _startpos }).\n            to(tween_time, {\n                position: _endpos\n            }, {\n                // easing: easing.backInOut\n            }).call(() => {\n                _cb && _cb();\n            }).start()\n    }\n\n    /**\n     * 猫咪出现\n     * @param 猫咪\n     * @param 回调函数\n     */\n    static CatAppear(_cat: Node, _cb: Function = null) {\n        let tween_time: number = 0.3;\n\n        let start_pos: Vec3 = _cat.getPosition().add(new Vec3(0, -150, 0));\n        let end_pos: Vec3 = _cat.getPosition();\n\n        tween(_cat).\n            set({ position: start_pos }).\n            to(tween_time, {\n                position: end_pos\n            }, {\n                easing: easing.backOut\n            }).call(() => {\n                _cb && _cb();\n            }).start()\n    }\n\n    /**\n    * 猫咪隐藏\n    * @param 猫咪\n    * @param 回调函数\n    */\n    static CatDisplay(_cat: Node, _cb: Function = null) {\n        let tween_time: number = 0.3;\n\n        let start_pos: Vec3 = _cat.getPosition().add(new Vec3(0, -150, 0));\n        let end_pos: Vec3 = _cat.getPosition();\n\n        tween(_cat).\n            set({ position: end_pos }).\n            to(tween_time, {\n                position: start_pos\n            }, {\n                easing: easing.backIn\n            }).call(() => {\n                _cb && _cb();\n            }).start()\n    }\n\n    /**\n     * 金币出现提示(金币是透明度的)\n     * @param 金币\n     */\n    static CoinAppear(_coin: Node, _cb: Function) {\n        let tween_time: number = 1;\n\n        let coin_pos: Vec3 = _coin.getPosition();\n        let move_pos: Vec3 = coin_pos.add(new Vec3(0, 50, 0));\n\n        _coin.getComponent(UIOpacity).opacity = 255;\n\n        tween(_coin).to(\n            tween_time,\n            {\n                position: move_pos,\n            },\n            {\n                easing: easing.backOut,\n                onUpdate: (_target: Node, _ratio: number) => {\n                    _coin.getComponent(UIOpacity).opacity = 225 - _ratio * 225;\n                },\n                onComplete: (_target: Node) => {\n                    _target.active = false;\n                    _cb && _cb();\n                }\n            }\n        ).start();\n\n    }\n\n\n\n}\n\n\n","declare var wx;\nimport { _decorator, Component, Node, SubContextView } from 'cc';\nimport { Global } from '../Global';\nconst { ccclass, property } = _decorator;\n\n@ccclass('WxTools')\n/**\n * 微信小游戏工具\n */\nexport class WxTools extends Component {\n\n    /**\n     * 设置本地缓存\n     * @param key值\n     * @param value值\n     */\n    static SetStorage(_key: string, _value: string) {\n        wx.setStorageSync(_key, _value)\n    }\n\n    /**\n     * 获取本地缓存\n     * @param key值\n     */\n    static GetStorage(_key: string) {\n        return wx.getStorageSync(_key) == \"\" ? null : JSON.parse(wx.getStorageSync(_key))\n    }\n\n    //\n    static PicUrl: string[] = [\n        \"https://mmocgame.qpic.cn/wechatgame/ydzroiaGwsvgc5MQZNt4Ad1589CWCtia9SLibHS6RoMbHkl6vXr6WHY681SllUyG9mU/0\",\n        \"https://mmocgame.qpic.cn/wechatgame/ydzroiaGwsvglqy3vZQJq3wSoqANUPHOIbxbjuQUPQvoA38rXibRG9e2CqyYFPoVUE/0\"\n    ]\n\n    //\n    static PicId: string[] = [\n        \"VzBknUPxQ0GEbe2UH0aYvg==\",\n        \"h9AkiPdoRUy5mfVtXT4edw==\"\n    ]\n\n    /**\n     * 主动分享（直接分享弹窗）\n     * @param 分享标题\n     * @param 图片索引\n     */\n    static Share(_title: string, _picindex: number) {\n        if (!Global.IsWx) return;\n\n        wx.shareAppMessage({\n            title: _title,\n            imageUrlId: this.PicId[_picindex],\n            imageUrl: this.PicUrl[_picindex]\n        })\n    }\n\n    /**\n      * 更新被动分享信息（点击主菜单分享）\n      */\n    static SetShare() {\n        if (!Global.IsWx) return;\n        let pic_index: number = Math.floor(this.PicUrl.length * Math.random())\n        wx.onShareAppMessage(function () {\n            return {\n                title: \"喵咪小吃铺\",\n                imageUrlId: this.PicId[pic_index],\n                imageUrl: this.PicUrl[pic_index]\n            }\n        }.bind(this))\n    }\n\n    /**\n     * \n     */\n    static ShareMenu() {\n        if (!Global.IsWx) return;\n        wx.showShareMenu({\n            menus: ['shareAppMessage', 'shareTimeline']\n        })\n    }\n\n\n\n    /**\n     * 微信小程序交互提示\n     * @param 提示文字\n     * @param 提示图标 success error loading none\n     * @param 提示延迟时间 毫秒为单位\n     */\n    static ShowToast(_title: string, _icon: string, _duration: number = 2000) {\n        wx.showToast({\n            title: _title,\n            icon: _icon,\n            duration: _duration\n        })\n    }\n\n    /**\n     * 隐藏弹窗\n     */\n    static HideToast() {\n        wx.hideToast()\n    }\n\n\n    /**\n     * 显示确认取消对话框\n     * @param 提示标题\n     * @param 提示内容\n     * @param 成功回调 content:editable为true时候的文本 confirm 为true时用户点击了确定按钮 cancel为true时用户点击了返回按钮\n     * @param 失败回调\n     * @param 接口调用完成回调\n     * @param 是否显示取消按钮\n     * @param 取消按钮文字 最多4个字符\n     * @param 取消字体颜色\n     * @param 同意文字内容\n     * @param 同意文字颜色\n     * @param 是否显示输入框\n     * @param 显示输入框时得提示文字\n     */\n    static ShowModal(_title: string, _content: string, _successcb: Function, _failcb: Function, _completecb: Function,) {\n        wx.showModal({\n            title: '提示',\n            content: '这是一个模态弹窗',\n            showCancel: false,\n            editable: true,\n            success(res) {\n                if (res.confirm) {\n                    Global.IsDebug && console.log('用户点击确定')\n                } else if (res.cancel) {\n                    Global.IsDebug && console.log('用户点击取消')\n                }\n            }\n        })\n    }\n\n    /**\n     * 显示loading提示框\n     * @param 提示文字\n     * @param 是否防止触摸\n     * @param 成功回调\n     * @param 失败回调\n     * @param 接口调用结束\n     */\n    static ShowLoading(_title: string, _mask: boolean = true, _successcb: Function = null, _failcb: Function = null, _completecb: Function = null) {\n        wx.showLoading({\n            title: _title,\n            mask: _mask,\n            success: _successcb,\n            fail: _failcb,\n            complete: _completecb\n        })\n    }\n\n    /**\n     * 隐藏loading提示框\n     */\n    static HideLoading() {\n        wx.hideLoading();\n    }\n\n    /**\n     * 显示选项操作菜单\n     * @param 提示文案\n     * @param 按钮文字数组 最大长度为6\n     * @param 文字颜色\n     * @param 成功回调 tapIndex点击索引\n     * @param 失败回调  点击返回按钮\n     * @param 调用结束回调\n     */\n    static ShowActionSheet(_alerttext: string, _itemlist: string[], _itemcolor: string = \"#000000\", _successcb: Function = null, _failcb: Function = null, _completecb: Function = null) {\n        wx.showActionSheet({\n            alertText: _alerttext,\n            itemList: _itemlist,\n            itemColor: _itemcolor,\n            success: _successcb,\n            fail: _failcb,\n            complete: _completecb\n        })\n    }\n\n    /**\n     * 短震动\n     * @param 震动类型 heavy、medium、light\n     */\n    static VibrateShort(_type: string) {\n        wx.vibrateShort({\n            type: _type\n        })\n    }\n\n    /**\n     * 长震动\n     */\n    static VibrateLong() {\n        wx.vibrateLong()\n    }\n\n    /**\n     * 获取用户信息\n     * @param 成功回调\n     */\n    static GetUserInfor(_successcb: Function) {\n        //需要判断是否授权\n        wx.getSetting({\n            success(res) {\n                if (res.authSetting['scope.userInfo']) {\n                    // 已经授权，可以直接调用 getUserInfo 获取头像昵称\n                    wx.getUserInfo({\n                        success: function (res) {\n                            Global.IsDebug && console.log(res.userInfo)\n                            _successcb(res.userInfo)\n                        }\n                    })\n                } else {\n\n                    //创建一个透明背景\n                    let sysInfo = wx.getSystemInfoSync();\n                    let screenW = sysInfo.screenWidth;\n                    let screenH = sysInfo.screenHeight;\n\n                    // 否则，先通过 wx.createUserInfoButton 接口发起授权\n                    let button = wx.createUserInfoButton({\n                        type: 'text',\n                        text: '',\n                        style: {\n                            left: 0,\n                            top: 0,\n                            width: screenW,\n                            height: screenH,\n                            lineHeight: 0,\n                            backgroundColor: '',\n                            color: '#ffffff',\n                            textAlign: 'center',\n                            fontSize: 16\n                        }\n                    })\n                    button.onTap((res) => {\n                        // 用户同意授权后回调，通过回调可获取用户头像昵称信息\n                        Global.IsDebug && console.log(res)\n                        _successcb(res.userInfo)\n                        button.destroy()\n                    })\n                }\n            }\n        })\n    }\n\n\n}\n\n\n"]}